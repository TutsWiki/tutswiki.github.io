<!doctype html><html lang=en class="js csstransforms3d"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-12858299-25"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-12858299-25');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://tutswiki.com/cplusplus/multithreading/><meta name=keywords content="cplusplus,threading,kernel,daemon,thread"><meta name=description content="Learn what is a process, address space, thread, its benefits, and how to use it in C++ with a complete example."><meta name=author content="Chankey Pathak"><link rel=icon href=/images/favicon.png type=image/png><title>Multithreading in C++ :: TutsWiki Beta</title><link href=/css/nucleus.css?1604204610 rel=stylesheet><link href=/css/fontawesome-all.min.css?1604204610 rel=stylesheet><link href=/css/hybrid.css?1604204610 rel=stylesheet><link href=/css/featherlight.min.css?1604204610 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1604204610 rel=stylesheet><link href=/css/auto-complete.css?1604204610 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1604204610 rel=stylesheet><link href=/css/theme.css?1604204610 rel=stylesheet><link href=/css/hugo-theme.css?1604204610 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1604204610></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/cplusplus/multithreading/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img src=https://tutswiki.com/img/tutswiki-logo.png style=width:70%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1604204610></script><script type=text/javascript src=/js/auto-complete.js?1604204610></script><script type=text/javascript>var baseurl="https:\/\/tutswiki.com\/";</script><script type=text/javascript src=/js/search.js?1604204610></script></div><div class=highlightable><ul class=topics><li data-nav-id=/cplusplus/ title=C++ class="dd-item
parent"><a href=/cplusplus/><b></b>C++</a><ul><li data-nav-id=/cplusplus/introduction/ title=Introduction class=dd-item><a href=/cplusplus/introduction/>Introduction</a></li><li data-nav-id=/cplusplus/installation/ title="C++ Installation and Environment Setup" class=dd-item><a href=/cplusplus/installation/>Installation</a></li><li data-nav-id=/cplusplus/functions/ title="Functions in C++" class=dd-item><a href=/cplusplus/functions/>Functions</a></li><li data-nav-id=/cplusplus/multithreading/ title="Multithreading in C++" class="dd-item active"><a href=/cplusplus/multithreading/>Multithreading</a></li></ul></li><li data-nav-id=/data-structures-algorithms/ title=DSA class=dd-item><a href=/data-structures-algorithms/><b></b>DSA</a><ul><li data-nav-id=/data-structures-algorithms/insertion-sort/ title="Insertion Sort" class=dd-item><a href=/data-structures-algorithms/insertion-sort/>Insertion Sort</a></li><li data-nav-id=/data-structures-algorithms/radix-sort/ title="Radix Sort" class=dd-item><a href=/data-structures-algorithms/radix-sort/>Radix Sort</a></li><li data-nav-id=/data-structures-algorithms/bucket-sort/ title="Bucket Sort" class=dd-item><a href=/data-structures-algorithms/bucket-sort/>Bucket Sort</a></li><li data-nav-id=/data-structures-algorithms/counting-sort/ title="Counting Sort" class=dd-item><a href=/data-structures-algorithms/counting-sort/>Counting Sort</a></li><li data-nav-id=/data-structures-algorithms/quick-sort/ title="Quick Sort" class=dd-item><a href=/data-structures-algorithms/quick-sort/>Quick Sort</a></li><li data-nav-id=/data-structures-algorithms/heap-sort/ title="Heap Sort" class=dd-item><a href=/data-structures-algorithms/heap-sort/>Heap Sort</a></li><li data-nav-id=/data-structures-algorithms/merge-sort/ title="Merge Sort" class=dd-item><a href=/data-structures-algorithms/merge-sort/>Merge Sort</a></li><li data-nav-id=/data-structures-algorithms/tree-data-structure/ title="Tree Data Structure" class=dd-item><a href=/data-structures-algorithms/tree-data-structure/>Tree Data Structure</a></li><li data-nav-id=/data-structures-algorithms/binary-search-tree/ title="Binary Search Tree" class=dd-item><a href=/data-structures-algorithms/binary-search-tree/>Binary Search Tree</a></li><li data-nav-id=/data-structures-algorithms/binary-search/ title="Binary Search" class=dd-item><a href=/data-structures-algorithms/binary-search/>Binary Search</a></li><li data-nav-id=/data-structures-algorithms/interpolation-search/ title="Interpolation Search" class=dd-item><a href=/data-structures-algorithms/interpolation-search/>Interpolation Search</a></li><li data-nav-id=/data-structures-algorithms/exponential-search/ title="Exponential Search" class=dd-item><a href=/data-structures-algorithms/exponential-search/>Exponential Search</a></li></ul></li><li data-nav-id=/java/ title=Java class=dd-item><a href=/java/><b></b>Java</a><ul><li data-nav-id=/java/class-object/ title="Classes & Objects" class=dd-item><a href=/java/class-object/>Classes & Objects</a></li><li data-nav-id=/java/constructors/ title=Constructors class=dd-item><a href=/java/constructors/>Constructors</a></li><li data-nav-id=/java/wrapper-class/ title="Wrapper Class in Java" class=dd-item><a href=/java/wrapper-class/>Wrapper Class</a></li><li data-nav-id=/java/serialization/ title="Serialization in Java" class=dd-item><a href=/java/serialization/>Serialization</a></li><li data-nav-id=/java/exceptions/ title="Exceptions in Java" class=dd-item><a href=/java/exceptions/>Exceptions</a></li><li data-nav-id=/java/exception-handling/ title="Exception Handling" class=dd-item><a href=/java/exception-handling/>Exception Handling</a></li><li data-nav-id=/java/throw-throws/ title="throw and throws" class=dd-item><a href=/java/throw-throws/>throw and throws</a></li><li data-nav-id=/java/finally/ title=finally class=dd-item><a href=/java/finally/>finally</a></li><li data-nav-id=/java/lambda-expressions/ title="Lambda Expressions in Java" class=dd-item><a href=/java/lambda-expressions/>Lambda Expressions</a></li><li data-nav-id=/java/regex/ title="Regular Expressions in Java" class=dd-item><a href=/java/regex/>Regular Expressions</a></li><li data-nav-id=/java/garbage-collection/ title="Garbage Collection in Java" class=dd-item><a href=/java/garbage-collection/>Garbage Collection</a></li><li data-nav-id=/java/annotations/ title="Annotations in Java" class=dd-item><a href=/java/annotations/>Annotations</a></li><li data-nav-id=/java/postgresql/ title="PostgreSQL in Java" class=dd-item><a href=/java/postgresql/>Database - PostgreSQL</a></li><li data-nav-id=/java/generics/ title="Generics in Java" class=dd-item><a href=/java/generics/>Generics</a></li><li data-nav-id=/java/collections/ title="Collections in Java" class=dd-item><a href=/java/collections/>Collections</a></li></ul></li><li data-nav-id=/python/ title=Python class=dd-item><a href=/python/><b></b>Python</a><ul><li data-nav-id=/python/introduction/ title=Introduction class=dd-item><a href=/python/introduction/>Introduction</a></li><li data-nav-id=/python/threading/ title="Threading in Python" class=dd-item><a href=/python/threading/>Threading</a></li><li data-nav-id=/python/modules/ title="Modules in Python" class=dd-item><a href=/python/modules/>Modules</a></li><li data-nav-id=/python/decorators/ title="Decorators in Python" class=dd-item><a href=/python/decorators/>Decorators</a></li><li data-nav-id=/python/exceptions/ title="Exceptions in Python" class=dd-item><a href=/python/exceptions/>Exceptions</a></li><li data-nav-id=/python/exception-handling/ title="Exception Handling in Python" class=dd-item><a href=/python/exception-handling/>Exception Handling</a></li></ul></li><li data-nav-id=/pandas-cookbook/ title="Pandas Cookbook" class=dd-item><a href=/pandas-cookbook/><b></b>Pandas Cookbook</a><ul><li data-nav-id=/pandas-cookbook/chapter1/ title="Chapter 1 - Reading from a CSV" class=dd-item><a href=/pandas-cookbook/chapter1/>Chapter 1</a></li><li data-nav-id=/pandas-cookbook/chapter2/ title="Chapter 2 - Selecting and finding desired data" class=dd-item><a href=/pandas-cookbook/chapter2/>Chapter 2</a></li><li data-nav-id=/pandas-cookbook/chapter3/ title="Chapter 3 - Filtering dataframes" class=dd-item><a href=/pandas-cookbook/chapter3/>Chapter 3</a></li><li data-nav-id=/pandas-cookbook/chapter4/ title="Chapter 4 - Groupby and Aggregate" class=dd-item><a href=/pandas-cookbook/chapter4/>Chapter 4</a></li><li data-nav-id=/pandas-cookbook/chapter5/ title="Chapter 5 - Web scraping with Pandas" class=dd-item><a href=/pandas-cookbook/chapter5/>Chapter 5</a></li><li data-nav-id=/pandas-cookbook/chapter6/ title="Chapter 6 - String Operations" class=dd-item><a href=/pandas-cookbook/chapter6/>Chapter 6</a></li><li data-nav-id=/pandas-cookbook/chapter7/ title="Chapter 7 - Cleanup messy data" class=dd-item><a href=/pandas-cookbook/chapter7/>Chapter 7</a></li><li data-nav-id=/pandas-cookbook/chapter8/ title="Chapter 8 - Parsing Unix timestamps" class=dd-item><a href=/pandas-cookbook/chapter8/>Chapter 8</a></li></ul></li><li data-nav-id=/r/ title=R class=dd-item><a href=/r/><b></b>R</a><ul><li data-nav-id=/r/introduction/ title=Introduction class=dd-item><a href=/r/introduction/>Introduction</a></li><li data-nav-id=/r/install-env-setup/ title="Installing R and RStudio in Windows & Linux" class=dd-item><a href=/r/install-env-setup/>Installation</a></li><li data-nav-id=/r/average-mean-median-mode/ title="Calculating Average (Mean, Median, Mode) in R" class=dd-item><a href=/r/average-mean-median-mode/>Average</a></li><li data-nav-id=/r/variance/ title="Calculating Variance in R" class=dd-item><a href=/r/variance/>Variance</a></li><li data-nav-id=/r/standard-deviation/ title="Calculating Standard Deviation in R" class=dd-item><a href=/r/standard-deviation/>Standard Deviation</a></li></ul></li><li data-nav-id=/blog/ title=Blog class=dd-item><a href=/blog/><b></b>Blog</a><ul><li data-nav-id=/method-overload-vs-override-java-differences/ title="Method Overloading and Overriding in Java" class=dd-item><a href=/method-overload-vs-override-java-differences/>Overloading and Overriding Methods</a></li><li data-nav-id=/override-overload-static-method-java/ title="How to Override/Overload Static Method in Java?" class=dd-item><a href=/override-overload-static-method-java/>Override/Overload Static Method in Java</a></li><li data-nav-id=/medium-alternatives/ title="List of Medium Alternatives (self-hosted, open-source and paid)" class=dd-item><a href=/medium-alternatives/>Medium Alternatives</a></li><li data-nav-id=/machine-learning-apis-mlaas/ title="List of Machine Learning APIs on Cloud (MLaaS)" class=dd-item><a href=/machine-learning-apis-mlaas/>MLaaS</a></li><li data-nav-id=/install-deb-command-line-dpkg-apt-gdebi/ title="Install deb file from command line (dpkg, apt, gdebi, software center)" class=dd-item><a href=/install-deb-command-line-dpkg-apt-gdebi/>Install deb file from command line</a></li><li data-nav-id=/sdkman-installing-multiple-versions-java-same-machine/ title="SDKMan - Installing Multiple Versions of Java in Same Machine" class=dd-item><a href=/sdkman-installing-multiple-versions-java-same-machine/>SDKMan - Multiple Java Versions</a></li><li data-nav-id=/read-write-json-config-file-in-python/ title="Writing and Reading JSON config file in Python" class=dd-item><a href=/read-write-json-config-file-in-python/>Writing and Reading JSON config file in Python</a></li><li data-nav-id=/read-write-xml-config-file-in-python/ title="Writing and Reading XML config file in Python" class=dd-item><a href=/read-write-xml-config-file-in-python/>Writing and Reading XML config file in Python</a></li><li data-nav-id=/read-write-yaml-config-file-in-python/ title="Writing and Reading YAML config file in Python" class=dd-item><a href=/read-write-yaml-config-file-in-python/>Writing and Reading YAML config file in Python</a></li><li data-nav-id=/project-manager-must-have-skills/ title="Top 4 Must Have Skills For A Project Manager" class=dd-item><a href=/project-manager-must-have-skills/>Top 4 Must Have Skills For A Project Manager</a></li><li data-nav-id=/setup-access-questdb-python-notebook/ title="How to setup and access QuestDB using Python" class=dd-item><a href=/setup-access-questdb-python-notebook/>QuestDB in Python</a></li><li data-nav-id=/access-internet-on-linux-using-android-tethering/ title="How to access to internet on Linux using Android Tethering" class=dd-item><a href=/access-internet-on-linux-using-android-tethering/>Access internet on Linux using Android Tethering</a></li><li data-nav-id=/install-software-linux-yum-rpm-apt-dpkg/ title="How to install software in Linux (RPM/DEB systems)" class=dd-item><a href=/install-software-linux-yum-rpm-apt-dpkg/>How to install software in Linux</a></li><li data-nav-id=/read-write-config-files-in-angular/ title="Writing and Reading config files in Angular" class=dd-item><a href=/read-write-config-files-in-angular/>Writing and Reading config files in Angular</a></li><li data-nav-id=/approximating-randomness/ title="Approximating Randomness" class=dd-item><a href=/approximating-randomness/>Approximating Randomness</a></li><li data-nav-id=/convert-python-script-to-module/ title="How to convert a Python script to module" class=dd-item><a href=/convert-python-script-to-module/>How to convert a Python script to module</a></li><li data-nav-id=/grunt-tutorial-example/ title="Grunt Tutorial with Live Example" class=dd-item><a href=/grunt-tutorial-example/>Grunt Tutorial</a></li><li data-nav-id=/noprocrast/ title=noprocrast class=dd-item><a href=/noprocrast/>noprocrast</a></li><li data-nav-id=/how-to-fix-sudo-node-command-not-found-error/ title="How to fix sudo node command not found error" class=dd-item><a href=/how-to-fix-sudo-node-command-not-found-error/>sudo and node</a></li><li data-nav-id=/yet-another-lousy-monad-tutorial/ title="Yet another lousy monad tutorial" class=dd-item><a href=/yet-another-lousy-monad-tutorial/>Yet another lousy monad tutorial</a></li><li data-nav-id=/ruby-enumerable/ title="A Deeper Look at Ruby's Enumerable" class=dd-item><a href=/ruby-enumerable/>A Deeper Look at Ruby's Enumerable</a></li><li data-nav-id=/rest-api-in-clojure/ title="A REST API in Clojure" class=dd-item><a href=/rest-api-in-clojure/>A REST API in Clojure</a></li><li data-nav-id=/abstract-classes-and-interfaces-in-python/ title="Abstract classes and interfaces in Python" class=dd-item><a href=/abstract-classes-and-interfaces-in-python/>Abstract classes and interfaces in Python</a></li><li data-nav-id=/deep-learning-cardiovascular-imaging/ title="How Deep Learning Helped Reducing Variability in Cardiovascular Imaging" class=dd-item><a href=/deep-learning-cardiovascular-imaging/>Deep Learning helped reducing variability in Cardiovascular Imaging</a></li><li data-nav-id=/google-engineers-boycott-security-tool-military/ title="Google Engineers Boycott Against Security Tool for Military" class=dd-item><a href=/google-engineers-boycott-security-tool-military/>Google engineers boycott</a></li><li data-nav-id=/nodejs-google-app-engine/ title="How to deploy Node.js app on Google App Engine" class=dd-item><a href=/nodejs-google-app-engine/>Node.js on Google App Engine</a></li><li data-nav-id=/angular6-features/ title="What's new in Angular 6 (Features List)" class=dd-item><a href=/angular6-features/>Angular 6 features</a></li><li data-nav-id=/github-alternatives/ title="GitHub Alternatives (Free, Paid, Self-Hosted)" class=dd-item><a href=/github-alternatives/>Github alternatives</a></li><li data-nav-id=/what-is-the-use-of-yield-in-python/ title="What is the use of yield in Python?" class=dd-item><a href=/what-is-the-use-of-yield-in-python/>What is the use of yield in Python?</a></li><li data-nav-id=/append-vs-extend-python/ title="Difference between append and extend in Python" class=dd-item><a href=/append-vs-extend-python/>Difference between append and extend in Python</a></li><li data-nav-id=/print-same-line-python/ title="How to print on same line with print in Python" class=dd-item><a href=/print-same-line-python/>How to print on same line with print in Python</a></li><li data-nav-id=/read-write-config-files-in-python/ title="Writing and Reading config files in Python" class=dd-item><a href=/read-write-config-files-in-python/>Writing and Reading config files in Python</a></li><li data-nav-id=/run-module-as-script-python/ title="How to run a Python module as script?" class=dd-item><a href=/run-module-as-script-python/>How to run a Python module as script?</a></li><li data-nav-id=/if-name-main-in-python/ title='What is if __name__ == "__main__" in Python?' class=dd-item><a href=/if-name-main-in-python/>What is if __name__ == "__main__" in Python?</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://tutswiki.com/tags/><i class="fas fa-tags"></i>Tags</a></li><li><a class=padding href=https://github.com/TutsWiki/source/><i class="fab fa-fw fa-github"></i>GitHub</a></li><li><a class=padding href=https://github.com/TutsWiki/source/graphs/contributors/><i class="fa fa-fw fa-bullhorn"></i>Credits</a></li><li><a class=padding href=https://www.facebook.com/TutsWiki/><i class="fab fa-fw fa-facebook"></i>Facebook</a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/TutsWiki/source/ data-icon=octicon-star data-show-count=true aria-label="Star TutsWiki/source on GitHub">Star</a>
<a class=github-button href=https://github.com/TutsWiki/source/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork TutsWiki/source on GitHub">Fork</a><p>Built by Community with <a href=https://github.com/TutsWiki/source/graphs/contributors><i class="fa fa-heart"></i></a></center><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/TutsWiki/source/edit/master/content/cplusplus/multithreading.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>TutsWiki Beta</a> > <a href=/cplusplus/>C++</a> > Multithreading in C++</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#what-is-multithreading>What is multithreading</a></li><li><a href=#why-do-we-need-multithreading>Why do we need Multithreading?</a></li><li><a href=#examples-of-multithreading>Examples of Multithreading</a></li><li><a href=#multithreading-in-c>Multithreading in C++</a><ul><li><a href=#we-need-to-include-a-header-library-for-threads>We need to include a header library for threads</a></li><li><a href=#working-with-the-threads>Working with the threads</a></li><li><a href=#1-using-function-object-as-callable>1. Using function object as callable:</a></li><li><a href=#2-using-function-pointer-as-callable>2. Using function pointer as callable:</a></li><li><a href=#3-using-lambda-expression-as-callable>3. Using Lambda Expression as Callable</a></li><li><a href=#join-function>join () function</a></li></ul></li><li><a href=#complete-example>Complete Example</a></li><li><a href=#conclusion>Conclusion</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/c++>C++</a></div></div><div id=body-inner><h1>Multithreading in C++</h1><p><meta property="og:image" content="https://tutswiki.com/images/cplusplus/process-address-space.png"><meta name=twitter:card content="summary"><meta name=twitter:title content="Multithreading in C++"><meta name=”twitter:description” content="Learn what is a process, address space, thread, its benefits, and how to use it in C++ with a complete example."></p><h2 id=what-is-multithreading>What is multithreading</h2><p>Multithreading enables us to do parallel computing efficiently by creating multiple threads of a single process. It is used for maximum utilization of the central processing unit by concurrently executing multiple parts of a program. These parts of the program are threads.</p><p>A process can be taken as an instance of a program that is being executed by one or more threads. When a program starts, it is loaded with an address space in the main memory from the hard disk. After being loaded on the memory it is being scheduled to an available CPU. Now when a process is scheduled on CPU, process instructions execute sequentially. There is a program counter to keep track of instructions to be executed. The program counter represents the execution context. Execution context is the state of a running process which indicates data like which instruction CPU is executing. We refer to these execution contexts as threads.</p><p>There can be multiple threads in a process. These threads can execute different sections of the program simultaneously and can be scheduled on single processor or multiprocessor and multicore systems. A process has its own address space while a thread shares the address space of its parent process along with all the threads its parent process has created. Threads are considered lightweight data structures compared to the process because they will always consume almost less memory than a new process would. Let&rsquo;s visualize it a bit.</p><p><img src=/images/cplusplus/process-address-space.png alt="Process P Address Space" title="Process P Address Space"></p><p>Suppose we are getting some value to variable A, and there is a possibility that each thread in process P can set the value. The programmer has no control over which thread accesses a variable A and when does it access that variable. The operating system scheduler schedules processes and threads according to some scheduling algorithms ( Scheduling algorithms - First Come First Serve, Shortest Job First, Shortest Remaining Time First, Round Robin Scheduling, Priority Based Scheduling ).</p><p>To construct multithreaded programs. We need to construct synchronization constructs. Some of them are mutexes and semaphores. These mechanisms enforce synchronization between threads. So if a thread T2 in process P is initializing A no other thread is allowed to initialize A.</p><h2 id=why-do-we-need-multithreading>Why do we need Multithreading?</h2><p>Multiprocessing is the concept of using two or more central processing units to run a program. Multiple processes are executed simultaneously. By multiprocessing, we can avoid the problem of synchronization between threads in a multithreaded process because each process has its own address space that other processes are not allowed to write as the operating system actively prevents the process from writing to another process address space. However, address spaces can be very large and we may only need to run just a portion of the program. If we were to create many processes for parallel computing we would quickly use memory on any machine and so threads are useful. It is also not economical to have multiple processing units. The advantage is bigger than the disadvantage so we use multithreading for efficient parallel computing instead of multiprocessing.</p><h2 id=examples-of-multithreading>Examples of Multithreading</h2><ol><li>Text Editor/ Word Processor - We can have multiple tasks like typing the text, spelling check, saving and formatting of text are all being done concurrently by multiple threads.</li><li>Web Browser - In a web browser, we can browse and at the same time have multiple downloads running.</li><li>Web Servers - Web server handles each request with a new thread. There is a pool of threads and each time a request comes in, it is assigned a thread that&rsquo;s why we are able to load Facebook, Amazon, etc so easily. If it was not multithreaded and all requests were to be allotted through the queue so we would have to wait a long time for our turn to come.</li></ol><h2 id=multithreading-in-c>Multithreading in C++</h2><p>We have the two main functions of creating a thread and waiting for the thread to finish execution.</p><p><img src=/images/cplusplus/threading.png alt="Threading in C++" title="Thread Functions"></p><h3 id=we-need-to-include-a-header-library-for-threads>We need to include a header library for threads</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span><span style=color:#75715e>&lt;thread&gt;</span></code></pre></div><h3 id=working-with-the-threads>Working with the threads</h3><p>To start a thread we need to create a new thread object and pass it a callable as an argument to its constructor. Callable is an executable code that we want to execute when the thread is running.</p><p>We can define a callable in three ways:</p><ul><li>A function object</li><li>A function pointer</li><li>A lambda expression</li></ul><h3 id=1-using-function-object-as-callable>1. Using function object as callable:</h3><p>We need to define a class and in that class we overload an operator. The overloaded
function is having the code which is to be executed.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#75715e>// Define the class of function object
</span><span style=color:#75715e></span>class func_obj
{
	public:
		<span style=color:#66d9ef>void</span> operator()(parameters)	<span style=color:#75715e>// Overload () operator
</span><span style=color:#75715e></span>	{
		<span style=color:#75715e>// Code to be executed
</span><span style=color:#75715e></span>	}
};
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	<span style=color:#75715e>// Create thread object
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> thread_object(func_obj, parameters);
	<span style=color:#75715e>// wait for thread thread_object to finish
</span><span style=color:#75715e></span>	thread_object.join();
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}</code></pre></div><h3 id=2-using-function-pointer-as-callable>2. Using function pointer as callable:</h3><p>We need to define a function, then we can create a thread object with this function as callable. Parameters are passed after the function name.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#75715e>// Define a function
</span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>func_point</span>(parameter_1, parameter_2
		{
			<span style=color:#75715e>//Code to be executed
</span><span style=color:#75715e></span>		}

		<span style=color:#66d9ef>int</span> main()
		{
			<span style=color:#75715e>// Create thread object
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>thread</span> thread_object(func_point, parameter_1,
				parameter_2);
			<span style=color:#75715e>// wait for thread thread_object to finish
</span><span style=color:#75715e></span>			thread_object.join();
			<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
		}</code></pre></div><p>Note: Parameters can be a variable, list, or vector etc.</p><h3 id=3-using-lambda-expression-as-callable>3. Using Lambda Expression as Callable</h3><p>We will define a lambda expression, and we will then pass it to the thread object constructor as the first argument followed by its parameters as further arguments.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	<span style=color:#75715e>// Defining a lambda expression
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>auto</span> func_lambda <span style=color:#f92672>=</span>[](parameters)
	{
		<span style=color:#75715e>// Code to be executed
</span><span style=color:#75715e></span>	};
	<span style=color:#75715e>// Create thread object
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> thread_object(func_lambda, parameters);
	<span style=color:#75715e>// wait for thread thread_object to finish
</span><span style=color:#75715e></span>	thread_object.join();
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}</code></pre></div><p>Note: We can also pass lambda function directly to constructors.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	<span style=color:#75715e>//Create thread object
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> thread_object([], (parameters)
		{
			<span style=color:#75715e>// Code to be executed
</span><span style=color:#75715e></span>		};, parameters
	};
	<span style=color:#75715e>// wait for thread thread_object to finish
</span><span style=color:#75715e></span>	thread_object.join();
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}</code></pre></div><h3 id=join-function>join () function</h3><p>This function is used to wait for a thread to finish before we can perform any other action.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	<span style=color:#75715e>//Create thread object
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> thread_object(callable)
	<span style=color:#75715e>// wait for thread thread_object to finish
</span><span style=color:#75715e></span>	thread_object.join();
	<span style=color:#75715e>// thread_objec is finished, we can do other things
</span><span style=color:#75715e></span>	now.
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}</code></pre></div><h2 id=complete-example>Complete Example</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;thread&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>using namespace std;
<span style=color:#75715e>// function pointer
</span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>func_point</span>(<span style=color:#66d9ef>int</span> i)
{
	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>)
	{
		cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Thread with function pointer as callable.&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
	}
}

<span style=color:#75715e>// function object
</span><span style=color:#75715e></span>class func_obj
{
	public:
		<span style=color:#66d9ef>void</span> operator()(<span style=color:#66d9ef>int</span> x)
		{
			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> x; j<span style=color:#f92672>++</span>)
			{
				cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Thread with function object as callable&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
			}
		}
};
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	<span style=color:#75715e>//This thread is created by function pointer as callable
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> T1(func_point, <span style=color:#ae81ff>5</span>);
	<span style=color:#75715e>// This thread is created by function object as callable
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> T2(func_obj, <span style=color:#ae81ff>4</span>);
	<span style=color:#75715e>//This thread is created by lambda expression as callable
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>thread</span> T3([], (<span style=color:#66d9ef>int</span> y)
		{
			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> y; j<span style=color:#f92672>++</span>)
			{
				cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Thread with lambda expression as callable&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
			}
		};, <span style=color:#ae81ff>4</span>
	};
	<span style=color:#75715e>// wait for thread T1 to finish
</span><span style=color:#75715e></span>	T1.join();
	<span style=color:#75715e>//wait for thread T2 to finish
</span><span style=color:#75715e></span>	T2.join();
	<span style=color:#75715e>//wait for thread T3 to finish
</span><span style=color:#75715e></span>	T3.join();
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}</code></pre></div><p>Output:</p><pre><code class=language-console data-lang=console>Thread with function pointer as callable
Thread with function pointer as callable
Thread with lambda expression as callable
Thread with lambda expression as callable
Thread with function object as callable
Thread with function pointer as callable
Thread with function object as callable
Thread with lambda expression as callable
Thread with function object as callable
Thread with function pointer as callable
Thread with function object as callable
Thread with function pointer as callable
Thread with lambda expression as callable</code></pre><p>To compile program with thread support we have to use:</p><pre><code class=language-console data-lang=console>g++ -std=c++11 -pthread</code></pre><h2 id=conclusion>Conclusion</h2><p>Multithreading is a very important feature which helps in efficiently computing multiple tasks parallely. It provides better resource utilization, simpler program design and more responsive programs. It is easy to implement and can help a lot in providing security and efficiency to our real world problems.</p><footer class=footline></footer><div class="notices note"><p>Help us improve this content by
<a class=github-link title="editing this page on GitHub" href=https://github.com/TutsWiki/source/edit/master/content/cplusplus/multithreading.md target=blank><span id=top-github-link-text>editing this page on GitHub </span><i class="fas fa-code-branch"></i></a></p></div></div></div><div id=navigation><a class="nav nav-prev" href=/cplusplus/functions/ title="Functions in C++"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/data-structures-algorithms/ title=DSA style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1604204610></script><script src=/js/perfect-scrollbar.min.js?1604204610></script><script src=/js/perfect-scrollbar.jquery.min.js?1604204610></script><script src=/js/jquery.sticky.js?1604204610></script><script src=/js/featherlight.min.js?1604204610></script><script src=/js/highlight.pack.js?1604204610></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1604204610></script><script src=/js/learn.js?1604204610></script><script src=/js/hugo-learn.js?1604204610></script><link href=/mermaid/mermaid.css?1604204610 rel=stylesheet><script src=/mermaid/mermaid.js?1604204610></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>