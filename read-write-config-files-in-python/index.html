<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="python , config , read config file , write config file , configparser">
    <meta name="description" content="Learn how to write and read config files in Python using configparser module.">
    <meta name="author" content="Chankey Pathak (@chankeypathak)">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <title>Writing and Reading config files in Python</title>
    <link href="/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/style-responsive.css" rel="stylesheet"/>
    <link href="/css/monokai_sublime.css" rel="stylesheet"/>
    <link href="/css/dracula.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>

<section id="container" class="">

    
    <header class="header black-bg">
        <div class="toggle-nav">
            <i class="fa fa-bars"></i>
            <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
        </div>

        
        <a href="/" class="logo"><img src="/img/tutswiki-logo.png" style="height: 40px; vertical-align: bottom;">
            </a>
        
        <div class="top-nav notification-row">
            
            <div class="hidden-xs nav-github pull-right">
                <span rel="show-github" data-user="chankeypathak" data-repo="hugo" data-type="follow"></span>
                <span rel="show-github" data-user="tutswiki" data-repo="source"></span>
                <span rel="show-github" data-user="tutswiki" data-repo="source" data-type="fork"></span>
            </div>
        </div>

        <div class="nav title-row" id="top_menu">
            <h1 class="nav top-menu">Writing and Reading config files in Python</h1>
        </div>
    </header>
    

    
<aside>
    <div id="sidebar" class="nav-collapse">
        
        <ul class="sidebar-menu">
            
            
            

            <li class="sub-menu">
            <a href="javascript:;" class="">
                
                
                <span>Pandas Cookbook</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
            <ul class="sub">
            
            <li ><a href="/pandas-cookbook/chapter1/">Chapter 1</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter2/">Chapter 2</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter3/">Chapter 3</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter4/">Chapter 4</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter5/">Chapter 5</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter6/">Chapter 6</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter7/">Chapter 7</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter8/">Chapter 8</a> </li>
            
        </ul>
        
        </li>
        
        <li><a href="https://github.com/TutsWiki/source/issues" target="blank"><i class='fa fa-life-ring'></i> <span>Issues & Help</span></a>
        </li>
        
         
        <li><a href="https://github.com/TutsWiki/source/edit/master/content/articles/python/write-read-config-file-python.md"
               target="blank"><i class='fa fa-edit'></i> Refine this Page</a></li>
        
        
        </ul>
        
    </div>
</aside>



    
    <section id="main-content">
        <section class="wrapper">

            
            
            
            
            
            
            
            
            
            
            

            <div class="row">
                <div class="col-md-1">
                    
                    
                    
                </div>
                <div class="col-md-10">
                    <section class="panel">
                        
                        
                        
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12 cse">
                                    
                                </div>
                            </div>




<p>I&rsquo;m sure you must be aware about the importance of <a href="https://www.wikiwand.com/en/Configuration_file">configuration files</a>. Config files help creating the initial settings for any project, they help avoiding the hardcoded data.</p>

<p>Imagine if you migrate your server to a new host and suddenly your application stops working, now you have to go through your code and search/replace IP address of host at all the places. Config file comes to the rescue in such situation. You define the IP address key in config file and use it throughout your code. Later when you want to change any attribute, just change it in the config file. So helpful, isn&rsquo;t it?</p>

<p>Let&rsquo;s see how can we create and read config files in Python.</p>

<h2 id="creating-config-file-in-python">Creating config file in Python</h2>

<p>In Python we have <a href="https://docs.python.org/3/library/configparser.html">configparser</a> module which can help us with creation of config files (.ini format).</p>

<pre><code class="language-python">from configparser import ConfigParser

#Get the configparser object
config_object = ConfigParser()

#Assume we need 2 sections in the config file, let's call them USERINFO and SERVERCONFIG
config_object[&quot;USERINFO&quot;] = {
    &quot;admin&quot;: &quot;Chankey Pathak&quot;,
    &quot;loginid&quot;: &quot;chankeypathak&quot;,
    &quot;password&quot;: &quot;tutswiki&quot;
}

config_object[&quot;SERVERCONFIG&quot;] = {
    &quot;host&quot;: &quot;tutswiki.com&quot;,
    &quot;port&quot;: &quot;8080&quot;,
    &quot;ipaddr&quot;: &quot;8.8.8.8&quot;
}

#Write the above sections to config.ini file
with open('config.ini', 'w') as conf:
    config_object.write(conf)
</code></pre>

<p>Now if you check the working directory, you will notice <code>config.ini</code> file has been created, below is its content.</p>

<pre><code class="language-text">[USERINFO]
admin = Chankey Pathak
password = tutswiki
loginid = chankeypathak

[SERVERCONFIG]
host = tutswiki.com
ipaddr = 8.8.8.8
port = 8080
</code></pre>

<h2 id="reading-a-key-from-config-file">Reading a key from config file</h2>

<p>So we have created a config file, now in your code you have to read the configuration data so that you can use it by &ldquo;keyname&rdquo; to avoid hardcoded data, let&rsquo;s see how to do that.</p>

<pre><code class="language-python">userinfo = config_object[&quot;USERINFO&quot;]
print &quot;Password is {}&quot;.format(userinfo[&quot;password&quot;])
</code></pre>

<p>Output:</p>

<pre><code class="language-sh">Password is tutswiki
</code></pre>

<h2 id="updating-a-key-in-config-file">Updating a key in config file</h2>

<p>Suppose you have updated the password for chankeypathak user. You can update the same in config file using below:</p>

<pre><code class="language-python">userinfo = config_object[&quot;USERINFO&quot;]
userinfo[&quot;password&quot;] = &quot;newpassword&quot;

with open('config.ini', 'w') as conf:
    config_object.write(conf)
</code></pre>

<p>Now if you open the <code>config.ini</code> file, you will notice that the password has been updated.</p>


<div class="row">
    
    <div class="addthis_inline_share_toolbox"></div>

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-592ea8316bf3165f" async></script>

    <div class="footer-panel">
        <p>Last revision: June 5, 2017
            <span style="float: right;">TutsWiki Beta</span>
        </p>
    </div>
</div>
</div>
</section>

</div>

<div class="col-md-1">
    
    
    
</div>
</div>

</section>
</section>

</section>


<script src="/js/jquery-2.1.1.min.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/bootstrap.min.js"></script>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/js/scripts.js"></script>
<script async defer id="github-bjs" src="/js/buttons.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12858299-25', 'auto');
  ga('send', 'pageview');


</script>
</body>
</html>

