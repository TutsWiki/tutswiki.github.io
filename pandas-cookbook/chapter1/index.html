<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="pandas , csv , read csv pandas , read column pandas , select column , plot column">
    <meta name="description" content="Read data from a CSV using pandas dataframe">
    <meta name="author" content="Chankey Pathak (@chankeypathak)">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <title>Chapter 1 - Reading from a CSV</title>
    <link href="/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/style-responsive.css" rel="stylesheet"/>
    <link href="/css/monokai_sublime.css" rel="stylesheet"/>
    <link href="/css/dracula.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>

<section id="container" class="">

    
    <header class="header black-bg">
        <div class="toggle-nav">
            <i class="fa fa-bars"></i>
            <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
        </div>

        
        <a href="/" class="logo"><img src="/img/tutswiki-logo.png" style="height: 40px; vertical-align: bottom;">
            </a>
        
        <div class="top-nav notification-row">
            
            <div class="hidden-xs nav-github pull-right">
                <span rel="show-github" data-user="chankeypathak" data-repo="hugo" data-type="follow"></span>
                <span rel="show-github" data-user="tutswiki" data-repo="source"></span>
                <span rel="show-github" data-user="tutswiki" data-repo="source" data-type="fork"></span>
            </div>
        </div>

        <div class="nav title-row" id="top_menu">
            <h1 class="nav top-menu">Chapter 1 - Reading from a CSV</h1>
        </div>
    </header>
    

    
<aside>
    <div id="sidebar" class="nav-collapse">
        
        <ul class="sidebar-menu">
            
            
            

            <li class="sub-menu">
            <a href="javascript:;" class="">
                
                
                <span>Pandas Cookbook</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
            <ul class="sub">
            
            <li  class="active"><a href="/pandas-cookbook/chapter1/">Chapter 1</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter2/">Chapter 2</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter3/">Chapter 3</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter4/">Chapter 4</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter5/">Chapter 5</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter6/">Chapter 6</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter7/">Chapter 7</a> </li>
            
            <li ><a href="/pandas-cookbook/chapter8/">Chapter 8</a> </li>
            
        </ul>
        
        </li>
        
        <li><a href="https://github.com/TutsWiki/source/issues" target="blank"><i class='fa fa-life-ring'></i> <span>Issues & Help</span></a>
        </li>
        
         
        <li><a href="https://github.com/TutsWiki/source/edit/master/content/tutorials/pandas%20cookbook/chapter1.md"
               target="blank"><i class='fa fa-edit'></i> Refine this Page</a></li>
        
        
        </ul>
        
    </div>
</aside>



    
    <section id="main-content">
        <section class="wrapper">

            
            
            
            
            
            
            
            
            
            
            

            <div class="row">
                <div class="col-md-1">
                    
                    
                    
                </div>
                <div class="col-md-10">
                    <section class="panel">
                        
                        
                        
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12 cse">
                                    
                                </div>
                            </div>




<pre><code class="language-python"># Render our plots inline
%matplotlib inline

import pandas as pd
import matplotlib.pyplot as plt

pd.set_option('display.mpl_style', 'default') # Make the graphs a bit prettier
plt.rcParams['figure.figsize'] = (15, 5)
</code></pre>

<h2 id="1-1-reading-data-from-a-csv-file">1.1 Reading data from a CSV file</h2>

<p>You can read data from a CSV file using the <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html">read_csv</a> function. By default, it assumes that the fields are comma-separated.</p>

<p>We&rsquo;re going to be looking some cyclist data from Montréal. Here&rsquo;s the <a href="http://donnees.ville.montreal.qc.ca/dataset/velos-comptage">original page</a> (in French). We&rsquo;re using the data from 2012. Download the <a href="/bikes.csv">bikes.csv</a> file to try out the below examples.</p>

<p>This dataset is a list of how many people were on 7 different bike paths in Montreal, each day.</p>

<pre><code class="language-python">import pandas as pd

broken_df = pd.read_csv('bikes.csv')
# Look at the first 3 rows
broken_df[:3]
</code></pre>

<p>Output:</p>

<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date;Berri 1;Br�beuf (donn�es non disponibles);C�te-Sainte-Catherine;Maisonneuve 1;Maisonneuve 2;du Parc;Pierre-Dupuy;Rachel1;St-Urbain (donn�es non disponibles)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>   01/01/2012;35;;0;38;51;26;10;16;</td>
    </tr>
    <tr>
      <th>1</th>
      <td>   02/01/2012;83;;1;68;153;53;6;43;</td>
    </tr>
    <tr>
      <th>2</th>
      <td> 03/01/2012;135;;2;104;248;89;3;58;</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 1 columns</p>
</div>

<p>You&rsquo;ll notice that this is totally broken! read_csv has a bunch of options that will let us fix that, though. Here we&rsquo;ll</p>

<ul>
<li>Change the column separator to a <code>;</code></li>
<li>Set the encoding to <code>'_latin1_'</code> (the default is <code>'_utf8_'</code>)</li>
<li>Parse the dates in the <code>'Date'</code> column</li>
<li>Tell it that our dates have the date first instead of the month first</li>
<li>Set the index to be the <code>'Date'</code> column</li>
</ul>

<pre><code class="language-python">fixed_df = pd.read_csv('bikes.csv', sep=';', encoding='latin1', parse_dates=['Date'], dayfirst=True, index_col='Date')
fixed_df[:3]
</code></pre>

<p>Output:</p>

<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Berri 1</th>
      <th>Brébeuf (données non disponibles)</th>
      <th>Côte-Sainte-Catherine</th>
      <th>Maisonneuve 1</th>
      <th>Maisonneuve 2</th>
      <th>du Parc</th>
      <th>Pierre-Dupuy</th>
      <th>Rachel1</th>
      <th>St-Urbain (données non disponibles)</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2012-01-01</th>
      <td>  35</td>
      <td>NaN</td>
      <td> 0</td>
      <td>  38</td>
      <td>  51</td>
      <td> 26</td>
      <td> 10</td>
      <td> 16</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2012-01-02</th>
      <td>  83</td>
      <td>NaN</td>
      <td> 1</td>
      <td>  68</td>
      <td> 153</td>
      <td> 53</td>
      <td>  6</td>
      <td> 43</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2012-01-03</th>
      <td> 135</td>
      <td>NaN</td>
      <td> 2</td>
      <td> 104</td>
      <td> 248</td>
      <td> 89</td>
      <td>  3</td>
      <td> 58</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 9 columns</p>
</div>

<h2 id="1-2-selecting-a-column">1.2 Selecting a column</h2>

<p>When you read a CSV, you get a kind of object called a <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">DataFrame</a>, which is made up of rows and columns. You get columns out of a DataFrame the same way you get elements out of a dictionary.</p>

<p>Here&rsquo;s an example:</p>

<pre><code class="language-python">fixed_df['Berri 1']
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">Date
2012-01-01     35
2012-01-02     83
2012-01-03    135
2012-01-04    144
2012-01-05    197
2012-01-06    146
2012-01-07     98
2012-01-08     95
2012-01-09    244
2012-01-10    397
2012-01-11    273
2012-01-12    157
2012-01-13     75
2012-01-14     32
2012-01-15     54
...
2012-10-22    3650
2012-10-23    4177
2012-10-24    3744
2012-10-25    3735
2012-10-26    4290
2012-10-27    1857
2012-10-28    1310
2012-10-29    2919
2012-10-30    2887
2012-10-31    2634
2012-11-01    2405
2012-11-02    1582
2012-11-03     844
2012-11-04     966
2012-11-05    2247
Name: Berri 1, Length: 310, dtype: int64
</code></pre>

<h2 id="1-3-plotting-a-column">1.3 Plotting a column</h2>

<p>Just add <code>.plot()</code> to the end! How could it be easier? =)</p>

<p>We can see that, unsurprisingly, not many people are biking in January, February, and March.</p>

<pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt

fixed_df = pd.read_csv('bikes.csv', sep=';', encoding='latin1', parse_dates=['Date'], dayfirst=True, index_col='Date')
fixed_df['Berri 1'].plot()
</code></pre>

<p>Output:
<div>
<img src="/img/plot_single_column.png" alt="Plotting CSV column with Matplotlib" />
</div>
We can also plot all the columns just as easily. We&rsquo;ll make it a little bigger, too. You can see that it&rsquo;s more squished together, but all the bike paths behave basically the same &ndash; if it&rsquo;s a bad day for cyclists, it&rsquo;s a bad day everywhere.</p>

<pre><code class="language-python">fixed_df.plot(figsize=(15, 10))
plt.show()
</code></pre>

<p>Output:</p>

<div>
<img src="/img/plot_dataframe.png" alt="Plotting Dataframe with Matplotlib" />
</div>

<h2 id="1-4-putting-all-that-together">1.4 Putting all that together</h2>

<p>Here&rsquo;s the code we needed to write do draw that graph, all together:</p>

<pre><code class="language-python">df = pd.read_csv('bikes.csv', sep=';', encoding='latin1', parse_dates=['Date'], dayfirst=True, index_col='Date')
df['Berri 1'].plot()
</code></pre>

<p>Output:
<div>
<img src="/img/plot_single_column.png" alt="Plotting CSV column with Matplotlib" />
</div></p>


<div class="row">
    
    <div class="addthis_inline_share_toolbox"></div>

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-592ea8316bf3165f" async></script>

    <div class="footer-panel">
        <p>Last revision: May 11, 2017
            <span style="float: right;">TutsWiki Beta</span>
        </p>
    </div>
</div>
</div>
</section>

</div>

<div class="col-md-1">
    
    
    <a class="navigation next" href="/pandas-cookbook/chapter2">
        <i class="fa fa-angle-right"> </i>
    </a>
    
    
</div>
</div>

</section>
</section>

</section>


<script src="/js/jquery-2.1.1.min.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/bootstrap.min.js"></script>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/js/scripts.js"></script>
<script async defer id="github-bjs" src="/js/buttons.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12858299-25', 'auto');
  ga('send', 'pageview');


</script>
</body>
</html>

