<!doctype html><html lang=en class="js csstransforms3d"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-12858299-25"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-12858299-25');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://tutswiki.com/pandas-cookbook/chapter3/><meta name=keywords content="pandas,slide,dice,filter dataframe,numpy,matplotlib"><meta name=description content="Here we get into serious slicing and dicing and learn how to filter dataframes in complicated ways, really fast."><meta name=author content="Chankey Pathak"><link rel=icon href=/images/favicon.png type=image/png><title>Chapter 3 - Filtering dataframes :: TutsWiki Beta</title><link href=/css/nucleus.css?1599999613 rel=stylesheet><link href=/css/fontawesome-all.min.css?1599999613 rel=stylesheet><link href=/css/hybrid.css?1599999613 rel=stylesheet><link href=/css/featherlight.min.css?1599999613 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1599999613 rel=stylesheet><link href=/css/auto-complete.css?1599999613 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1599999613 rel=stylesheet><link href=/css/theme.css?1599999613 rel=stylesheet><link href=/css/hugo-theme.css?1599999613 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1599999613></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/pandas-cookbook/chapter3/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img src=https://tutswiki.com/img/tutswiki-logo.png style=width:70%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1599999613></script><script type=text/javascript src=/js/auto-complete.js?1599999613></script><script type=text/javascript>var baseurl="https:\/\/tutswiki.com\/";</script><script type=text/javascript src=/js/search.js?1599999613></script></div><div class=highlightable><ul class=topics><li data-nav-id=/cplusplus/ title=C++ class=dd-item><a href=/cplusplus/><b></b>C++</a><ul><li data-nav-id=/cplusplus/introduction/ title=Introduction class=dd-item><a href=/cplusplus/introduction/>Introduction</a></li></ul></li><li data-nav-id=/data-structures-algorithms/ title=DSA class=dd-item><a href=/data-structures-algorithms/><b></b>DSA</a><ul><li data-nav-id=/data-structures-algorithms/insertion-sort/ title="Insertion Sort" class=dd-item><a href=/data-structures-algorithms/insertion-sort/>Insertion Sort</a></li><li data-nav-id=/data-structures-algorithms/heap-sort/ title="Heap Sort" class=dd-item><a href=/data-structures-algorithms/heap-sort/>Heap Sort</a></li><li data-nav-id=/data-structures-algorithms/merge-sort/ title="Merge Sort" class=dd-item><a href=/data-structures-algorithms/merge-sort/>Merge Sort</a></li><li data-nav-id=/data-structures-algorithms/tree-data-structure/ title="Tree Data Structure" class=dd-item><a href=/data-structures-algorithms/tree-data-structure/>Tree Data Structure</a></li><li data-nav-id=/data-structures-algorithms/binary-search-tree/ title="Binary Search Tree" class=dd-item><a href=/data-structures-algorithms/binary-search-tree/>Binary Search Tree</a></li></ul></li><li data-nav-id=/java/ title=Java class=dd-item><a href=/java/><b></b>Java</a><ul><li data-nav-id=/java/class-object/ title="Classes & Objects" class=dd-item><a href=/java/class-object/>Classes & Objects</a></li><li data-nav-id=/java/constructors/ title=Constructors class=dd-item><a href=/java/constructors/>Constructors</a></li><li data-nav-id=/java/wrapper-class/ title="Wrapper Class in Java" class=dd-item><a href=/java/wrapper-class/>Wrapper Class</a></li><li data-nav-id=/java/exceptions/ title="Exceptions in Java" class=dd-item><a href=/java/exceptions/>Exceptions</a></li><li data-nav-id=/java/exception-handling/ title="Exception Handling" class=dd-item><a href=/java/exception-handling/>Exception Handling</a></li><li data-nav-id=/java/throw-throws/ title="throw and throws" class=dd-item><a href=/java/throw-throws/>throw and throws</a></li><li data-nav-id=/java/finally/ title=finally class=dd-item><a href=/java/finally/>finally</a></li><li data-nav-id=/java/lambda-expressions/ title="Lambda Expressions in Java" class=dd-item><a href=/java/lambda-expressions/>Lambda Expressions</a></li><li data-nav-id=/java/regex/ title="Regular Expressions in Java" class=dd-item><a href=/java/regex/>Regular Expressions</a></li><li data-nav-id=/java/annotations/ title="Annotations in Java" class=dd-item><a href=/java/annotations/>Annotations</a></li><li data-nav-id=/java/generics/ title="Generics in Java" class=dd-item><a href=/java/generics/>Generics</a></li></ul></li><li data-nav-id=/python/ title=Python class=dd-item><a href=/python/><b></b>Python</a><ul><li data-nav-id=/python/introduction/ title=Introduction class=dd-item><a href=/python/introduction/>Introduction</a></li><li data-nav-id=/python/decorators/ title="Decorators in Python" class=dd-item><a href=/python/decorators/>Decorators</a></li><li data-nav-id=/python/exceptions/ title="Exceptions in Python" class=dd-item><a href=/python/exceptions/>Exceptions</a></li><li data-nav-id=/python/exception-handling/ title="Exception Handling in Python" class=dd-item><a href=/python/exception-handling/>Exception Handling</a></li></ul></li><li data-nav-id=/pandas-cookbook/ title="Pandas Cookbook" class="dd-item
parent"><a href=/pandas-cookbook/><b></b>Pandas Cookbook</a><ul><li data-nav-id=/pandas-cookbook/chapter1/ title="Chapter 1 - Reading from a CSV" class=dd-item><a href=/pandas-cookbook/chapter1/>Chapter 1</a></li><li data-nav-id=/pandas-cookbook/chapter2/ title="Chapter 2 - Selecting and finding desired data" class=dd-item><a href=/pandas-cookbook/chapter2/>Chapter 2</a></li><li data-nav-id=/pandas-cookbook/chapter3/ title="Chapter 3 - Filtering dataframes" class="dd-item active"><a href=/pandas-cookbook/chapter3/>Chapter 3</a></li><li data-nav-id=/pandas-cookbook/chapter4/ title="Chapter 4 - Groupby and Aggregate" class=dd-item><a href=/pandas-cookbook/chapter4/>Chapter 4</a></li><li data-nav-id=/pandas-cookbook/chapter5/ title="Chapter 5 - Web scraping with Pandas" class=dd-item><a href=/pandas-cookbook/chapter5/>Chapter 5</a></li><li data-nav-id=/pandas-cookbook/chapter6/ title="Chapter 6 - String Operations" class=dd-item><a href=/pandas-cookbook/chapter6/>Chapter 6</a></li><li data-nav-id=/pandas-cookbook/chapter7/ title="Chapter 7 - Cleanup messy data" class=dd-item><a href=/pandas-cookbook/chapter7/>Chapter 7</a></li><li data-nav-id=/pandas-cookbook/chapter8/ title="Chapter 8 - Parsing Unix timestamps" class=dd-item><a href=/pandas-cookbook/chapter8/>Chapter 8</a></li></ul></li><li data-nav-id=/r/ title=R class=dd-item><a href=/r/><b></b>R</a><ul><li data-nav-id=/r/introduction/ title=Introduction class=dd-item><a href=/r/introduction/>Introduction</a></li><li data-nav-id=/r/install-env-setup/ title="Installing R and RStudio in Windows & Linux" class=dd-item><a href=/r/install-env-setup/>Installation</a></li><li data-nav-id=/r/average-mean-median-mode/ title="Calculating Average (Mean, Median, Mode) in R" class=dd-item><a href=/r/average-mean-median-mode/>Average</a></li><li data-nav-id=/r/variance/ title="Calculating Variance in R" class=dd-item><a href=/r/variance/>Variance</a></li><li data-nav-id=/r/standard-deviation/ title="Calculating Standard Deviation in R" class=dd-item><a href=/r/standard-deviation/>Standard Deviation</a></li></ul></li><li data-nav-id=/blog/ title=Blog class=dd-item><a href=/blog/><b></b>Blog</a><ul><li data-nav-id=/project-manager-must-have-skills/ title="Top 4 Must Have Skills For A Project Manager" class=dd-item><a href=/project-manager-must-have-skills/>Top 4 Must Have Skills For A Project Manager</a></li><li data-nav-id=/setup-access-questdb-python-notebook/ title="How to setup and access QuestDB using Python" class=dd-item><a href=/setup-access-questdb-python-notebook/>QuestDB in Python</a></li><li data-nav-id=/access-internet-on-linux-using-android-tethering/ title="How to access to internet on Linux using Android Tethering" class=dd-item><a href=/access-internet-on-linux-using-android-tethering/>Access internet on Linux using Android Tethering</a></li><li data-nav-id=/install-software-linux-yum-rpm-apt-dpkg/ title="How to install software in Linux (RPM/DEB systems)" class=dd-item><a href=/install-software-linux-yum-rpm-apt-dpkg/>How to install software in Linux</a></li><li data-nav-id=/read-write-config-files-in-angular/ title="Writing and Reading config files in Angular" class=dd-item><a href=/read-write-config-files-in-angular/>Writing and Reading config files in Angular</a></li><li data-nav-id=/approximating-randomness/ title="Approximating Randomness" class=dd-item><a href=/approximating-randomness/>Approximating Randomness</a></li><li data-nav-id=/convert-python-script-to-module/ title="How to convert a Python script to module" class=dd-item><a href=/convert-python-script-to-module/>How to convert a Python script to module</a></li><li data-nav-id=/grunt-tutorial-example/ title="Grunt Tutorial with Live Example" class=dd-item><a href=/grunt-tutorial-example/>Grunt Tutorial</a></li><li data-nav-id=/noprocrast/ title=noprocrast class=dd-item><a href=/noprocrast/>noprocrast</a></li><li data-nav-id=/how-to-fix-sudo-node-command-not-found-error/ title="How to fix sudo node command not found error" class=dd-item><a href=/how-to-fix-sudo-node-command-not-found-error/>sudo and node</a></li><li data-nav-id=/yet-another-lousy-monad-tutorial/ title="Yet another lousy monad tutorial" class=dd-item><a href=/yet-another-lousy-monad-tutorial/>Yet another lousy monad tutorial</a></li><li data-nav-id=/ruby-enumerable/ title="A Deeper Look at Ruby's Enumerable" class=dd-item><a href=/ruby-enumerable/>A Deeper Look at Ruby's Enumerable</a></li><li data-nav-id=/rest-api-in-clojure/ title="A REST API in Clojure" class=dd-item><a href=/rest-api-in-clojure/>A REST API in Clojure</a></li><li data-nav-id=/abstract-classes-and-interfaces-in-python/ title="Abstract classes and interfaces in Python" class=dd-item><a href=/abstract-classes-and-interfaces-in-python/>Abstract classes and interfaces in Python</a></li><li data-nav-id=/deep-learning-cardiovascular-imaging/ title="How Deep Learning Helped Reducing Variability in Cardiovascular Imaging" class=dd-item><a href=/deep-learning-cardiovascular-imaging/>Deep Learning helped reducing variability in Cardiovascular Imaging</a></li><li data-nav-id=/google-engineers-boycott-security-tool-military/ title="Google Engineers Boycott Against Security Tool for Military" class=dd-item><a href=/google-engineers-boycott-security-tool-military/>Google engineers boycott</a></li><li data-nav-id=/nodejs-google-app-engine/ title="How to deploy Node.js app on Google App Engine" class=dd-item><a href=/nodejs-google-app-engine/>Node.js on Google App Engine</a></li><li data-nav-id=/angular6-features/ title="What's new in Angular 6 (Features List)" class=dd-item><a href=/angular6-features/>Angular 6 features</a></li><li data-nav-id=/github-alternatives/ title="GitHub Alternatives (Free, Paid, Self-Hosted)" class=dd-item><a href=/github-alternatives/>Github alternatives</a></li><li data-nav-id=/what-is-the-use-of-yield-in-python/ title="What is the use of yield in Python?" class=dd-item><a href=/what-is-the-use-of-yield-in-python/>What is the use of yield in Python?</a></li><li data-nav-id=/append-vs-extend-python/ title="Difference between append and extend in Python" class=dd-item><a href=/append-vs-extend-python/>Difference between append and extend in Python</a></li><li data-nav-id=/print-same-line-python/ title="How to print on same line with print in Python" class=dd-item><a href=/print-same-line-python/>How to print on same line with print in Python</a></li><li data-nav-id=/read-write-config-files-in-python/ title="Writing and Reading config files in Python" class=dd-item><a href=/read-write-config-files-in-python/>Writing and Reading config files in Python</a></li><li data-nav-id=/run-module-as-script-python/ title="How to run a Python module as script?" class=dd-item><a href=/run-module-as-script-python/>How to run a Python module as script?</a></li><li data-nav-id=/if-name-main-in-python/ title='What is if __name__ == "__main__" in Python?' class=dd-item><a href=/if-name-main-in-python/>What is if __name__ == "__main__" in Python?</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://tutswiki.com/tags/><i class="fas fa-tags"></i>Tags</a></li><li><a class=padding href=https://github.com/TutsWiki/source/><i class="fab fa-fw fa-github"></i>GitHub</a></li><li><a class=padding href=https://github.com/TutsWiki/source/graphs/contributors/><i class="fa fa-fw fa-bullhorn"></i>Credits</a></li><li><a class=padding href=https://www.facebook.com/TutsWiki/><i class="fab fa-fw fa-facebook"></i>Facebook</a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/TutsWiki/source/ data-icon=octicon-star data-show-count=true aria-label="Star TutsWiki/source on GitHub">Star</a>
<a class=github-button href=https://github.com/TutsWiki/source/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork TutsWiki/source on GitHub">Fork</a><p>Built by Community with <a href=https://github.com/TutsWiki/source/graphs/contributors><i class="fa fa-heart"></i></a></center><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/TutsWiki/source/edit/master/content/pandas%20cookbook/chapter3.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>TutsWiki Beta</a> > <a href=/pandas-cookbook/>Pandas Cookbook</a> > Chapter 3 - Filtering dataframes</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#3-1-selecting-only-noise-complaints>3.1 Selecting only noise complaints</a></li><li><a href=#3-2-a-digression-about-numpy-arrays>3.2 A digression about numpy arrays</a></li><li><a href=#3-3-so-which-borough-has-the-most-noise-complaints>3.3 So, which borough has the most noise complaints?</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Chapter 3 - Filtering dataframes</h1><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># The usual preamble</span>
<span style=color:#f92672>%</span>matplotlib inline
<span style=color:#f92672>import</span> pandas <span style=color:#f92672>as</span> pd
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#f92672>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#f92672>as</span> np

<span style=color:#75715e># Make the graphs a bit prettier, and bigger</span>
pd<span style=color:#f92672>.</span>set_option(<span style=color:#e6db74>&#39;display.mpl_style&#39;</span>, <span style=color:#e6db74>&#39;default&#39;</span>)
plt<span style=color:#f92672>.</span>rcParams[<span style=color:#e6db74>&#39;figure.figsize&#39;</span>] <span style=color:#f92672>=</span> (<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>5</span>)


<span style=color:#75715e># This is necessary to show lots of columns in pandas 0.12. </span>
<span style=color:#75715e># Not necessary in pandas 0.13.</span>
pd<span style=color:#f92672>.</span>set_option(<span style=color:#e6db74>&#39;display.width&#39;</span>, <span style=color:#ae81ff>5000</span>) 
pd<span style=color:#f92672>.</span>set_option(<span style=color:#e6db74>&#39;display.max_columns&#39;</span>, <span style=color:#ae81ff>60</span>)</code></pre></div><p>Let&rsquo;s continue with our NYC 311 service requests example.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>complaints <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(<span style=color:#e6db74>&#39;311-service-requests.csv&#39;</span>)</code></pre></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-9878675755379402 data-ad-slot=5842766387></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><h2 id=3-1-selecting-only-noise-complaints>3.1 Selecting only noise complaints</h2><p>I&rsquo;d like to know which borough has the most noise complaints. First, we&rsquo;ll take a look at the data to see what it looks like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>complaints[:<span style=color:#ae81ff>5</span>]</code></pre></div><p>Output:</p><div class="output_html rendered_html output_subarea output_execute_result"><div style=max-height:1000px;max-width:1500px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Unique Key</th><th>Created Date</th><th>Closed Date</th><th>Agency</th><th>Agency Name</th><th>Complaint Type</th><th>Descriptor</th><th>Location Type</th><th>Incident Zip</th><th>Incident Address</th><th>Street Name</th><th>Cross Street 1</th><th>Cross Street 2</th><th>Intersection Street 1</th><th>Intersection Street 2</th><th>Address Type</th><th>City</th><th>Landmark</th><th>Facility Type</th><th>Status</th><th>Due Date</th><th>Resolution Action Updated Date</th><th>Community Board</th><th>Borough</th><th>X Coordinate (State Plane)</th><th>Y Coordinate (State Plane)</th><th>Park Facility Name</th><th>Park Borough</th><th>School Name</th><th>School Number</th><th>School Region</th><th>School Code</th><th>School Phone Number</th><th>School Address</th><th>School City</th><th>School State</th><th>School Zip</th><th>School Not Found</th><th>School or Citywide Complaint</th><th>Vehicle Type</th><th>Taxi Company Borough</th><th>Taxi Pick Up Location</th><th>Bridge Highway Name</th><th>Bridge Highway Direction</th><th>Road Ramp</th><th>Bridge Highway Segment</th><th>Garage Lot Name</th><th>Ferry Direction</th><th>Ferry Terminal Name</th><th>Latitude</th><th>Longitude</th><th>Location</th></tr></thead><tbody><tr><th>0</th><td>26589651</td><td>10/31/2013 02:08:41 AM</td><td>NaN</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Talking</td><td>Street/Sidewalk</td><td>11432</td><td>90-03 169 STREET</td><td>169 STREET</td><td>90 AVENUE</td><td>91 AVENUE</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>JAMAICA</td><td>NaN</td><td>Precinct</td><td>Assigned</td><td>10/31/2013 10:08:41 AM</td><td>10/31/2013 02:35:17 AM</td><td>12 QUEENS</td><td>QUEENS</td><td>1042027</td><td>197389</td><td>Unspecified</td><td>QUEENS</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.708275</td><td>-73.791604</td><td>(40.70827532593202, -73.79160395779721)</td></tr><tr><th>1</th><td>26593698</td><td>10/31/2013 02:01:04 AM</td><td>NaN</td><td>NYPD</td><td>New York City Police Department</td><td>Illegal Parking</td><td>Commercial Overnight Parking</td><td>Street/Sidewalk</td><td>11378</td><td>58 AVENUE</td><td>58 AVENUE</td><td>58 PLACE</td><td>59 STREET</td><td>NaN</td><td>NaN</td><td>BLOCKFACE</td><td>MASPETH</td><td>NaN</td><td>Precinct</td><td>Open</td><td>10/31/2013 10:01:04 AM</td><td>NaN</td><td>05 QUEENS</td><td>QUEENS</td><td>1009349</td><td>201984</td><td>Unspecified</td><td>QUEENS</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.721041</td><td>-73.909453</td><td>(40.721040535628305, -73.90945306791765)</td></tr><tr><th>2</th><td>26594139</td><td>10/31/2013 02:00:24 AM</td><td>10/31/2013 02:40:32 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Commercial</td><td>Loud Music/Party</td><td>Club/Bar/Restaurant</td><td>10032</td><td>4060 BROADWAY</td><td>BROADWAY</td><td>WEST 171 STREET</td><td>WEST 172 STREET</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>NEW YORK</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 10:00:24 AM</td><td>10/31/2013 02:39:42 AM</td><td>12 MANHATTAN</td><td>MANHATTAN</td><td>1001088</td><td>246531</td><td>Unspecified</td><td>MANHATTAN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.843330</td><td>-73.939144</td><td>(40.84332975466513, -73.93914371913482)</td></tr><tr><th>3</th><td>26595721</td><td>10/31/2013 01:56:23 AM</td><td>10/31/2013 02:21:48 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Vehicle</td><td>Car/Truck Horn</td><td>Street/Sidewalk</td><td>10023</td><td>WEST 72 STREET</td><td>WEST 72 STREET</td><td>COLUMBUS AVENUE</td><td>AMSTERDAM AVENUE</td><td>NaN</td><td>NaN</td><td>BLOCKFACE</td><td>NEW YORK</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 09:56:23 AM</td><td>10/31/2013 02:21:10 AM</td><td>07 MANHATTAN</td><td>MANHATTAN</td><td>989730</td><td>222727</td><td>Unspecified</td><td>MANHATTAN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.778009</td><td>-73.980213</td><td>(40.7780087446372, -73.98021349023975)</td></tr><tr><th>4</th><td>26590930</td><td>10/31/2013 01:53:44 AM</td><td>NaN</td><td>DOHMH</td><td>Department of Health and Mental Hygiene</td><td>Rodent</td><td>Condition Attracting Rodents</td><td>Vacant Lot</td><td>10027</td><td>WEST 124 STREET</td><td>WEST 124 STREET</td><td>LENOX AVENUE</td><td>ADAM CLAYTON POWELL JR BOULEVARD</td><td>NaN</td><td>NaN</td><td>BLOCKFACE</td><td>NEW YORK</td><td>NaN</td><td>NaN</td><td>Pending</td><td>11/30/2013 01:53:44 AM</td><td>10/31/2013 01:59:54 AM</td><td>10 MANHATTAN</td><td>MANHATTAN</td><td>998815</td><td>233545</td><td>Unspecified</td><td>MANHATTAN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.807691</td><td>-73.947387</td><td>(40.80769092704951, -73.94738703491433)</td></tr></tbody></table><p>5 rows × 52 columns</p></div></div><p>To get the noise complaints, we need to find the rows where the &ldquo;Complaint Type&rdquo; column is &ldquo;Noise - Street/Sidewalk&rdquo;. I&rsquo;ll show you how to do that, and then explain what&rsquo;s going on.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>noise_complaints <span style=color:#f92672>=</span> complaints[complaints[<span style=color:#e6db74>&#39;Complaint Type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Noise - Street/Sidewalk&#34;</span>]
noise_complaints[:<span style=color:#ae81ff>3</span>]</code></pre></div><p>Output:</p><div class="output_html rendered_html output_subarea output_execute_result"><div style=max-height:1000px;max-width:1500px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Unique Key</th><th>Created Date</th><th>Closed Date</th><th>Agency</th><th>Agency Name</th><th>Complaint Type</th><th>Descriptor</th><th>Location Type</th><th>Incident Zip</th><th>Incident Address</th><th>Street Name</th><th>Cross Street 1</th><th>Cross Street 2</th><th>Intersection Street 1</th><th>Intersection Street 2</th><th>Address Type</th><th>City</th><th>Landmark</th><th>Facility Type</th><th>Status</th><th>Due Date</th><th>Resolution Action Updated Date</th><th>Community Board</th><th>Borough</th><th>X Coordinate (State Plane)</th><th>Y Coordinate (State Plane)</th><th>Park Facility Name</th><th>Park Borough</th><th>School Name</th><th>School Number</th><th>School Region</th><th>School Code</th><th>School Phone Number</th><th>School Address</th><th>School City</th><th>School State</th><th>School Zip</th><th>School Not Found</th><th>School or Citywide Complaint</th><th>Vehicle Type</th><th>Taxi Company Borough</th><th>Taxi Pick Up Location</th><th>Bridge Highway Name</th><th>Bridge Highway Direction</th><th>Road Ramp</th><th>Bridge Highway Segment</th><th>Garage Lot Name</th><th>Ferry Direction</th><th>Ferry Terminal Name</th><th>Latitude</th><th>Longitude</th><th>Location</th></tr></thead><tbody><tr><th>0</th><td>26589651</td><td>10/31/2013 02:08:41 AM</td><td>NaN</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Talking</td><td>Street/Sidewalk</td><td>11432</td><td>90-03 169 STREET</td><td>169 STREET</td><td>90 AVENUE</td><td>91 AVENUE</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>JAMAICA</td><td>NaN</td><td>Precinct</td><td>Assigned</td><td>10/31/2013 10:08:41 AM</td><td>10/31/2013 02:35:17 AM</td><td>12 QUEENS</td><td>QUEENS</td><td>1042027</td><td>197389</td><td>Unspecified</td><td>QUEENS</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.708275</td><td>-73.791604</td><td>(40.70827532593202, -73.79160395779721)</td></tr><tr><th>16</th><td>26594086</td><td>10/31/2013 12:54:03 AM</td><td>10/31/2013 02:16:39 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Music/Party</td><td>Street/Sidewalk</td><td>10310</td><td>173 CAMPBELL AVENUE</td><td>CAMPBELL AVENUE</td><td>HENDERSON AVENUE</td><td>WINEGAR LANE</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>STATEN ISLAND</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 08:54:03 AM</td><td>10/31/2013 02:07:14 AM</td><td>01 STATEN ISLAND</td><td>STATEN ISLAND</td><td>952013</td><td>171076</td><td>Unspecified</td><td>STATEN ISLAND</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.636182</td><td>-74.116150</td><td>(40.63618202176914, -74.1161500428337)</td></tr><tr><th>25</th><td>26591573</td><td>10/31/2013 12:35:18 AM</td><td>10/31/2013 02:41:35 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Talking</td><td>Street/Sidewalk</td><td>10312</td><td>24 PRINCETON LANE</td><td>PRINCETON LANE</td><td>HAMPTON GREEN</td><td>DEAD END</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>STATEN ISLAND</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 08:35:18 AM</td><td>10/31/2013 01:45:17 AM</td><td>03 STATEN ISLAND</td><td>STATEN ISLAND</td><td>929577</td><td>140964</td><td>Unspecified</td><td>STATEN ISLAND</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.553421</td><td>-74.196743</td><td>(40.55342078716953, -74.19674315017886)</td></tr></tbody></table><p>3 rows × 52 columns</p></div></div><p>If you look at noise_complaints, you&rsquo;ll see that this worked, and it only contains complaints with the right complaint type. But how does this work? Let&rsquo;s deconstruct it into two pieces</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>complaints[<span style=color:#e6db74>&#39;Complaint Type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Noise - Street/Sidewalk&#34;</span></code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#ae81ff>0</span>      True
<span style=color:#ae81ff>1</span>     False
<span style=color:#ae81ff>2</span>     False
<span style=color:#ae81ff>3</span>     False
<span style=color:#ae81ff>4</span>     False
<span style=color:#ae81ff>5</span>     False
<span style=color:#ae81ff>6</span>     False
<span style=color:#ae81ff>7</span>     False
<span style=color:#ae81ff>8</span>     False
<span style=color:#ae81ff>9</span>     False
<span style=color:#ae81ff>10</span>    False
<span style=color:#ae81ff>11</span>    False
<span style=color:#ae81ff>12</span>    False
<span style=color:#ae81ff>13</span>    False
<span style=color:#ae81ff>14</span>    False
...
<span style=color:#ae81ff>111054</span>     True
<span style=color:#ae81ff>111055</span>    False
<span style=color:#ae81ff>111056</span>    False
<span style=color:#ae81ff>111057</span>    False
<span style=color:#ae81ff>111058</span>    False
<span style=color:#ae81ff>111059</span>     True
<span style=color:#ae81ff>111060</span>    False
<span style=color:#ae81ff>111061</span>    False
<span style=color:#ae81ff>111062</span>    False
<span style=color:#ae81ff>111063</span>    False
<span style=color:#ae81ff>111064</span>    False
<span style=color:#ae81ff>111065</span>    False
<span style=color:#ae81ff>111066</span>     True
<span style=color:#ae81ff>111067</span>    False
<span style=color:#ae81ff>111068</span>    False
Name: Complaint Type, Length: 111069, dtype: bool</code></pre></div><p>This is a big array of Trues and Falses, one for each row in our dataframe. When we index our dataframe with this array, we get just the rows where our boolean array evaluated to True. It&rsquo;s important to note that for row filtering by a boolean array the length of our dataframe&rsquo;s index must be the same length as the boolean array used for filtering.</p><p>You can also combine more than one condition with the <code>&</code> operator like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>is_noise <span style=color:#f92672>=</span> complaints[<span style=color:#e6db74>&#39;Complaint Type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Noise - Street/Sidewalk&#34;</span>
in_brooklyn <span style=color:#f92672>=</span> complaints[<span style=color:#e6db74>&#39;Borough&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;BROOKLYN&#34;</span>
complaints[is_noise <span style=color:#f92672>&amp;</span> in_brooklyn][:<span style=color:#ae81ff>5</span>]</code></pre></div><p>Output:</p><div class="output_html rendered_html output_subarea output_execute_result"><div style=max-height:1000px;max-width:1500px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Unique Key</th><th>Created Date</th><th>Closed Date</th><th>Agency</th><th>Agency Name</th><th>Complaint Type</th><th>Descriptor</th><th>Location Type</th><th>Incident Zip</th><th>Incident Address</th><th>Street Name</th><th>Cross Street 1</th><th>Cross Street 2</th><th>Intersection Street 1</th><th>Intersection Street 2</th><th>Address Type</th><th>City</th><th>Landmark</th><th>Facility Type</th><th>Status</th><th>Due Date</th><th>Resolution Action Updated Date</th><th>Community Board</th><th>Borough</th><th>X Coordinate (State Plane)</th><th>Y Coordinate (State Plane)</th><th>Park Facility Name</th><th>Park Borough</th><th>School Name</th><th>School Number</th><th>School Region</th><th>School Code</th><th>School Phone Number</th><th>School Address</th><th>School City</th><th>School State</th><th>School Zip</th><th>School Not Found</th><th>School or Citywide Complaint</th><th>Vehicle Type</th><th>Taxi Company Borough</th><th>Taxi Pick Up Location</th><th>Bridge Highway Name</th><th>Bridge Highway Direction</th><th>Road Ramp</th><th>Bridge Highway Segment</th><th>Garage Lot Name</th><th>Ferry Direction</th><th>Ferry Terminal Name</th><th>Latitude</th><th>Longitude</th><th>Location</th></tr></thead><tbody><tr><th>31</th><td>26595564</td><td>10/31/2013 12:30:36 AM</td><td>NaN</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Music/Party</td><td>Street/Sidewalk</td><td>11236</td><td>AVENUE J</td><td>AVENUE J</td><td>EAST 80 STREET</td><td>EAST 81 STREET</td><td>NaN</td><td>NaN</td><td>BLOCKFACE</td><td>BROOKLYN</td><td>NaN</td><td>Precinct</td><td>Open</td><td>10/31/2013 08:30:36 AM</td><td>NaN</td><td>18 BROOKLYN</td><td>BROOKLYN</td><td>1008937</td><td>170310</td><td>Unspecified</td><td>BROOKLYN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.634104</td><td>-73.911055</td><td>(40.634103775951736, -73.91105541883589)</td></tr><tr><th>49</th><td>26595553</td><td>10/31/2013 12:05:10 AM</td><td>10/31/2013 02:43:43 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Talking</td><td>Street/Sidewalk</td><td>11225</td><td>25 LEFFERTS AVENUE</td><td>LEFFERTS AVENUE</td><td>WASHINGTON AVENUE</td><td>BEDFORD AVENUE</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>BROOKLYN</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 08:05:10 AM</td><td>10/31/2013 01:29:29 AM</td><td>09 BROOKLYN</td><td>BROOKLYN</td><td>995366</td><td>180388</td><td>Unspecified</td><td>BROOKLYN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.661793</td><td>-73.959934</td><td>(40.6617931276793, -73.95993363978067)</td></tr><tr><th>109</th><td>26594653</td><td>10/30/2013 11:26:32 PM</td><td>10/31/2013 12:18:54 AM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Music/Party</td><td>Street/Sidewalk</td><td>11222</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>DOBBIN STREET</td><td>NORMAN STREET</td><td>INTERSECTION</td><td>BROOKLYN</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 07:26:32 AM</td><td>10/31/2013 12:18:54 AM</td><td>01 BROOKLYN</td><td>BROOKLYN</td><td>996925</td><td>203271</td><td>Unspecified</td><td>BROOKLYN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.724600</td><td>-73.954271</td><td>(40.724599563793525, -73.95427134534344)</td></tr><tr><th>236</th><td>26591992</td><td>10/30/2013 10:02:58 PM</td><td>10/30/2013 10:23:20 PM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Talking</td><td>Street/Sidewalk</td><td>11218</td><td>DITMAS AVENUE</td><td>DITMAS AVENUE</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>LATLONG</td><td>BROOKLYN</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 06:02:58 AM</td><td>10/30/2013 10:23:20 PM</td><td>01 BROOKLYN</td><td>BROOKLYN</td><td>991895</td><td>171051</td><td>Unspecified</td><td>BROOKLYN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.636169</td><td>-73.972455</td><td>(40.63616876563881, -73.97245504682485)</td></tr><tr><th>370</th><td>26594167</td><td>10/30/2013 08:38:25 PM</td><td>10/30/2013 10:26:28 PM</td><td>NYPD</td><td>New York City Police Department</td><td>Noise - Street/Sidewalk</td><td>Loud Music/Party</td><td>Street/Sidewalk</td><td>11218</td><td>126 BEVERLY ROAD</td><td>BEVERLY ROAD</td><td>CHURCH AVENUE</td><td>EAST 2 STREET</td><td>NaN</td><td>NaN</td><td>ADDRESS</td><td>BROOKLYN</td><td>NaN</td><td>Precinct</td><td>Closed</td><td>10/31/2013 04:38:25 AM</td><td>10/30/2013 10:26:28 PM</td><td>12 BROOKLYN</td><td>BROOKLYN</td><td>990144</td><td>173511</td><td>Unspecified</td><td>BROOKLYN</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>Unspecified</td><td>N</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>40.642922</td><td>-73.978762</td><td>(40.6429222774404, -73.97876175474585)</td></tr></tbody></table><p>5 rows × 52 columns</p></div></div><p>Or if we just wanted a few columns:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>complaints[is_noise <span style=color:#f92672>&amp;</span> in_brooklyn][[<span style=color:#e6db74>&#39;Complaint Type&#39;</span>, <span style=color:#e6db74>&#39;Borough&#39;</span>, <span style=color:#e6db74>&#39;Created Date&#39;</span>, <span style=color:#e6db74>&#39;Descriptor&#39;</span>]][:<span style=color:#ae81ff>10</span>]</code></pre></div><p>Output:</p><div class="output_html rendered_html output_subarea output_execute_result"><div style=max-height:1000px;max-width:1500px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Complaint Type</th><th>Borough</th><th>Created Date</th><th>Descriptor</th></tr></thead><tbody><tr><th>31</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/31/2013 12:30:36 AM</td><td>Loud Music/Party</td></tr><tr><th>49</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/31/2013 12:05:10 AM</td><td>Loud Talking</td></tr><tr><th>109</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 11:26:32 PM</td><td>Loud Music/Party</td></tr><tr><th>236</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 10:02:58 PM</td><td>Loud Talking</td></tr><tr><th>370</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 08:38:25 PM</td><td>Loud Music/Party</td></tr><tr><th>378</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 08:32:13 PM</td><td>Loud Talking</td></tr><tr><th>656</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 06:07:39 PM</td><td>Loud Music/Party</td></tr><tr><th>1251</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/30/2013 03:04:51 PM</td><td>Loud Talking</td></tr><tr><th>5416</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/29/2013 10:07:02 PM</td><td>Loud Talking</td></tr><tr><th>5584</th><td>Noise - Street/Sidewalk</td><td>BROOKLYN</td><td>10/29/2013 08:15:59 PM</td><td>Loud Music/Party</td></tr></tbody></table><p>10 rows × 4 columns</p></div></div><h2 id=3-2-a-digression-about-numpy-arrays>3.2 A digression about numpy arrays</h2><p>On the inside, the type of a column is <a href=http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html>pd.Series</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>pd<span style=color:#f92672>.</span>Series([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>])</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#ae81ff>0</span>    <span style=color:#ae81ff>1</span>
<span style=color:#ae81ff>1</span>    <span style=color:#ae81ff>2</span>
<span style=color:#ae81ff>2</span>    <span style=color:#ae81ff>3</span>
dtype: int64</code></pre></div><p>and pandas Series are internally <a href=https://docs.scipy.org/doc/numpy/reference/generated/numpy.array.html>numpy arrays</a>. If you add <code>.values</code> to the end of any Series, you&rsquo;ll get its internal numpy array</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>np<span style=color:#f92672>.</span>array([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>])</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>array<span style=color:#f92672>([</span>1, 2, 3<span style=color:#f92672>])</span></code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>pd<span style=color:#f92672>.</span>Series([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>])<span style=color:#f92672>.</span>values</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>array<span style=color:#f92672>([</span>1, 2, 3<span style=color:#f92672>])</span></code></pre></div><p>So this binary-array-selection business is actually something that works with any numpy array:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>arr <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>array([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>])
arr <span style=color:#f92672>!=</span> <span style=color:#ae81ff>2</span></code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>array<span style=color:#f92672>([</span> True, False,  True<span style=color:#f92672>]</span>, dtype<span style=color:#f92672>=</span>bool<span style=color:#f92672>)</span></code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>arr[arr <span style=color:#f92672>!=</span> <span style=color:#ae81ff>2</span>]</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>array<span style=color:#f92672>([</span>1, 3<span style=color:#f92672>])</span></code></pre></div><h2 id=3-3-so-which-borough-has-the-most-noise-complaints>3.3 So, which borough has the most noise complaints?</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>is_noise <span style=color:#f92672>=</span> complaints[<span style=color:#e6db74>&#39;Complaint Type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Noise - Street/Sidewalk&#34;</span>
noise_complaints <span style=color:#f92672>=</span> complaints[is_noise]
noise_complaints[<span style=color:#e6db74>&#39;Borough&#39;</span>]<span style=color:#f92672>.</span>value_counts()</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>MANHATTAN        <span style=color:#ae81ff>917</span>
BROOKLYN         <span style=color:#ae81ff>456</span>
BRONX            <span style=color:#ae81ff>292</span>
QUEENS           <span style=color:#ae81ff>226</span>
STATEN ISLAND     <span style=color:#ae81ff>36</span>
Unspecified        <span style=color:#ae81ff>1</span>
dtype: int64</code></pre></div><p>It&rsquo;s Manhattan! But what if we wanted to divide by the total number of complaints, to make it make a bit more sense? That would be easy too:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>noise_complaint_counts <span style=color:#f92672>=</span> noise_complaints[<span style=color:#e6db74>&#39;Borough&#39;</span>]<span style=color:#f92672>.</span>value_counts()
complaint_counts <span style=color:#f92672>=</span> complaints[<span style=color:#e6db74>&#39;Borough&#39;</span>]<span style=color:#f92672>.</span>value_counts()
noise_complaint_counts <span style=color:#f92672>/</span> complaint_counts</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>BRONX            <span style=color:#ae81ff>0</span>
BROOKLYN         <span style=color:#ae81ff>0</span>
MANHATTAN        <span style=color:#ae81ff>0</span>
QUEENS           <span style=color:#ae81ff>0</span>
STATEN ISLAND    <span style=color:#ae81ff>0</span>
Unspecified      <span style=color:#ae81ff>0</span>
dtype: int64</code></pre></div><p>Oops, why was that zero? That&rsquo;s no good. This is because of integer division in Python 2. Let&rsquo;s fix it, by converting complaint_counts into an array of floats.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>noise_complaint_counts <span style=color:#f92672>/</span> complaint_counts<span style=color:#f92672>.</span>astype(float)</code></pre></div><p>Output:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>BRONX            0.014833
BROOKLYN         0.013864
MANHATTAN        0.037755
QUEENS           0.010143
STATEN ISLAND    0.007474
Unspecified      0.000141
dtype: float64</code></pre></div><p>Now let&rsquo;s plot it!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>(noise_complaint_counts <span style=color:#f92672>/</span> complaint_counts<span style=color:#f92672>.</span>astype(float))<span style=color:#f92672>.</span>plot(kind<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bar&#39;</span>)</code></pre></div><p>Output:</p><div><img src=/img/noise_complaints_plot.png alt="Plot which borough has the most noise complaints"></div><p>So Manhattan really does complain more about noise than the other boroughs! Neat.</p><footer class=footline></footer><div class="notices note"><p>Help us improve this content by
<a class=github-link title="editing this page on GitHub" href=https://github.com/TutsWiki/source/edit/master/content/pandas%20cookbook/chapter3.md target=blank><span id=top-github-link-text>editing this page on GitHub </span><i class="fas fa-code-branch"></i></a></p></div></div></div><div id=navigation><a class="nav nav-prev" href=/pandas-cookbook/chapter2/ title="Chapter 2 - Selecting and finding desired data"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/pandas-cookbook/chapter4/ title="Chapter 4 - Groupby and Aggregate" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1599999613></script><script src=/js/perfect-scrollbar.min.js?1599999613></script><script src=/js/perfect-scrollbar.jquery.min.js?1599999613></script><script src=/js/jquery.sticky.js?1599999613></script><script src=/js/featherlight.min.js?1599999613></script><script src=/js/highlight.pack.js?1599999613></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1599999613></script><script src=/js/learn.js?1599999613></script><script src=/js/hugo-learn.js?1599999613></script><link href=/mermaid/mermaid.css?1599999613 rel=stylesheet><script src=/mermaid/mermaid.js?1599999613></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>