<!doctype html><html lang=en class="js csstransforms3d"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-12858299-25"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-12858299-25');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://tutswiki.com/convert-python-script-to-module/><meta name=keywords content="python,name,main,script,module,import"><meta name=description content="How can we import the functions (or classes) from a script without having the script start doing something?"><meta name=author content="Chankey Pathak"><link rel=icon href=/images/favicon.png type=image/png><title>How to convert a Python script to module :: TutsWiki Beta</title><link href=/css/nucleus.css?1601262140 rel=stylesheet><link href=/css/fontawesome-all.min.css?1601262140 rel=stylesheet><link href=/css/hybrid.css?1601262140 rel=stylesheet><link href=/css/featherlight.min.css?1601262140 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1601262140 rel=stylesheet><link href=/css/auto-complete.css?1601262140 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1601262140 rel=stylesheet><link href=/css/theme.css?1601262140 rel=stylesheet><link href=/css/hugo-theme.css?1601262140 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1601262140></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/convert-python-script-to-module/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img src=https://tutswiki.com/img/tutswiki-logo.png style=width:70%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1601262140></script><script type=text/javascript src=/js/auto-complete.js?1601262140></script><script type=text/javascript>var baseurl="https:\/\/tutswiki.com\/";</script><script type=text/javascript src=/js/search.js?1601262140></script></div><div class=highlightable><ul class=topics><li data-nav-id=/cplusplus/ title=C++ class=dd-item><a href=/cplusplus/><b></b>C++</a><ul><li data-nav-id=/cplusplus/introduction/ title=Introduction class=dd-item><a href=/cplusplus/introduction/>Introduction</a></li></ul></li><li data-nav-id=/data-structures-algorithms/ title=DSA class=dd-item><a href=/data-structures-algorithms/><b></b>DSA</a><ul><li data-nav-id=/data-structures-algorithms/insertion-sort/ title="Insertion Sort" class=dd-item><a href=/data-structures-algorithms/insertion-sort/>Insertion Sort</a></li><li data-nav-id=/data-structures-algorithms/heap-sort/ title="Heap Sort" class=dd-item><a href=/data-structures-algorithms/heap-sort/>Heap Sort</a></li><li data-nav-id=/data-structures-algorithms/merge-sort/ title="Merge Sort" class=dd-item><a href=/data-structures-algorithms/merge-sort/>Merge Sort</a></li><li data-nav-id=/data-structures-algorithms/tree-data-structure/ title="Tree Data Structure" class=dd-item><a href=/data-structures-algorithms/tree-data-structure/>Tree Data Structure</a></li><li data-nav-id=/data-structures-algorithms/binary-search-tree/ title="Binary Search Tree" class=dd-item><a href=/data-structures-algorithms/binary-search-tree/>Binary Search Tree</a></li><li data-nav-id=/data-structures-algorithms/binary-search/ title="Binary Search" class=dd-item><a href=/data-structures-algorithms/binary-search/>Binary Search</a></li><li data-nav-id=/data-structures-algorithms/interpolation-search/ title="Interpolation Search" class=dd-item><a href=/data-structures-algorithms/interpolation-search/>Interpolation Search</a></li></ul></li><li data-nav-id=/java/ title=Java class=dd-item><a href=/java/><b></b>Java</a><ul><li data-nav-id=/java/class-object/ title="Classes & Objects" class=dd-item><a href=/java/class-object/>Classes & Objects</a></li><li data-nav-id=/java/constructors/ title=Constructors class=dd-item><a href=/java/constructors/>Constructors</a></li><li data-nav-id=/java/wrapper-class/ title="Wrapper Class in Java" class=dd-item><a href=/java/wrapper-class/>Wrapper Class</a></li><li data-nav-id=/java/serialization/ title="Serialization in Java" class=dd-item><a href=/java/serialization/>Serialization</a></li><li data-nav-id=/java/exceptions/ title="Exceptions in Java" class=dd-item><a href=/java/exceptions/>Exceptions</a></li><li data-nav-id=/java/exception-handling/ title="Exception Handling" class=dd-item><a href=/java/exception-handling/>Exception Handling</a></li><li data-nav-id=/java/throw-throws/ title="throw and throws" class=dd-item><a href=/java/throw-throws/>throw and throws</a></li><li data-nav-id=/java/finally/ title=finally class=dd-item><a href=/java/finally/>finally</a></li><li data-nav-id=/java/lambda-expressions/ title="Lambda Expressions in Java" class=dd-item><a href=/java/lambda-expressions/>Lambda Expressions</a></li><li data-nav-id=/java/regex/ title="Regular Expressions in Java" class=dd-item><a href=/java/regex/>Regular Expressions</a></li><li data-nav-id=/java/garbage-collection/ title="Garbage Collection in Java" class=dd-item><a href=/java/garbage-collection/>Garbage Collection</a></li><li data-nav-id=/java/annotations/ title="Annotations in Java" class=dd-item><a href=/java/annotations/>Annotations</a></li><li data-nav-id=/java/generics/ title="Generics in Java" class=dd-item><a href=/java/generics/>Generics</a></li></ul></li><li data-nav-id=/python/ title=Python class=dd-item><a href=/python/><b></b>Python</a><ul><li data-nav-id=/python/introduction/ title=Introduction class=dd-item><a href=/python/introduction/>Introduction</a></li><li data-nav-id=/python/decorators/ title="Decorators in Python" class=dd-item><a href=/python/decorators/>Decorators</a></li><li data-nav-id=/python/exceptions/ title="Exceptions in Python" class=dd-item><a href=/python/exceptions/>Exceptions</a></li><li data-nav-id=/python/exception-handling/ title="Exception Handling in Python" class=dd-item><a href=/python/exception-handling/>Exception Handling</a></li></ul></li><li data-nav-id=/pandas-cookbook/ title="Pandas Cookbook" class=dd-item><a href=/pandas-cookbook/><b></b>Pandas Cookbook</a><ul><li data-nav-id=/pandas-cookbook/chapter1/ title="Chapter 1 - Reading from a CSV" class=dd-item><a href=/pandas-cookbook/chapter1/>Chapter 1</a></li><li data-nav-id=/pandas-cookbook/chapter2/ title="Chapter 2 - Selecting and finding desired data" class=dd-item><a href=/pandas-cookbook/chapter2/>Chapter 2</a></li><li data-nav-id=/pandas-cookbook/chapter3/ title="Chapter 3 - Filtering dataframes" class=dd-item><a href=/pandas-cookbook/chapter3/>Chapter 3</a></li><li data-nav-id=/pandas-cookbook/chapter4/ title="Chapter 4 - Groupby and Aggregate" class=dd-item><a href=/pandas-cookbook/chapter4/>Chapter 4</a></li><li data-nav-id=/pandas-cookbook/chapter5/ title="Chapter 5 - Web scraping with Pandas" class=dd-item><a href=/pandas-cookbook/chapter5/>Chapter 5</a></li><li data-nav-id=/pandas-cookbook/chapter6/ title="Chapter 6 - String Operations" class=dd-item><a href=/pandas-cookbook/chapter6/>Chapter 6</a></li><li data-nav-id=/pandas-cookbook/chapter7/ title="Chapter 7 - Cleanup messy data" class=dd-item><a href=/pandas-cookbook/chapter7/>Chapter 7</a></li><li data-nav-id=/pandas-cookbook/chapter8/ title="Chapter 8 - Parsing Unix timestamps" class=dd-item><a href=/pandas-cookbook/chapter8/>Chapter 8</a></li></ul></li><li data-nav-id=/r/ title=R class=dd-item><a href=/r/><b></b>R</a><ul><li data-nav-id=/r/introduction/ title=Introduction class=dd-item><a href=/r/introduction/>Introduction</a></li><li data-nav-id=/r/install-env-setup/ title="Installing R and RStudio in Windows & Linux" class=dd-item><a href=/r/install-env-setup/>Installation</a></li><li data-nav-id=/r/average-mean-median-mode/ title="Calculating Average (Mean, Median, Mode) in R" class=dd-item><a href=/r/average-mean-median-mode/>Average</a></li><li data-nav-id=/r/variance/ title="Calculating Variance in R" class=dd-item><a href=/r/variance/>Variance</a></li><li data-nav-id=/r/standard-deviation/ title="Calculating Standard Deviation in R" class=dd-item><a href=/r/standard-deviation/>Standard Deviation</a></li></ul></li><li data-nav-id=/blog/ title=Blog class="dd-item
parent"><a href=/blog/><b></b>Blog</a><ul><li data-nav-id=/override-overload-static-method-java/ title="How to Override/Overload Static Method in Java?" class=dd-item><a href=/override-overload-static-method-java/>Override/Overload Static Method in Java</a></li><li data-nav-id=/sdkman-installing-multiple-versions-java-same-machine/ title="SDKMan - Installing Multiple Versions of Java in Same Machine" class=dd-item><a href=/sdkman-installing-multiple-versions-java-same-machine/>SDKMan - Multiple Java Versions</a></li><li data-nav-id=/read-write-json-config-file-in-python/ title="Writing and Reading JSON config file in Python" class=dd-item><a href=/read-write-json-config-file-in-python/>Writing and Reading JSON config file in Python</a></li><li data-nav-id=/read-write-xml-config-file-in-python/ title="Writing and Reading XML config file in Python" class=dd-item><a href=/read-write-xml-config-file-in-python/>Writing and Reading XML config file in Python</a></li><li data-nav-id=/read-write-yaml-config-file-in-python/ title="Writing and Reading YAML config file in Python" class=dd-item><a href=/read-write-yaml-config-file-in-python/>Writing and Reading YAML config file in Python</a></li><li data-nav-id=/project-manager-must-have-skills/ title="Top 4 Must Have Skills For A Project Manager" class=dd-item><a href=/project-manager-must-have-skills/>Top 4 Must Have Skills For A Project Manager</a></li><li data-nav-id=/setup-access-questdb-python-notebook/ title="How to setup and access QuestDB using Python" class=dd-item><a href=/setup-access-questdb-python-notebook/>QuestDB in Python</a></li><li data-nav-id=/access-internet-on-linux-using-android-tethering/ title="How to access to internet on Linux using Android Tethering" class=dd-item><a href=/access-internet-on-linux-using-android-tethering/>Access internet on Linux using Android Tethering</a></li><li data-nav-id=/install-software-linux-yum-rpm-apt-dpkg/ title="How to install software in Linux (RPM/DEB systems)" class=dd-item><a href=/install-software-linux-yum-rpm-apt-dpkg/>How to install software in Linux</a></li><li data-nav-id=/read-write-config-files-in-angular/ title="Writing and Reading config files in Angular" class=dd-item><a href=/read-write-config-files-in-angular/>Writing and Reading config files in Angular</a></li><li data-nav-id=/approximating-randomness/ title="Approximating Randomness" class=dd-item><a href=/approximating-randomness/>Approximating Randomness</a></li><li data-nav-id=/convert-python-script-to-module/ title="How to convert a Python script to module" class="dd-item active"><a href=/convert-python-script-to-module/>How to convert a Python script to module</a></li><li data-nav-id=/grunt-tutorial-example/ title="Grunt Tutorial with Live Example" class=dd-item><a href=/grunt-tutorial-example/>Grunt Tutorial</a></li><li data-nav-id=/noprocrast/ title=noprocrast class=dd-item><a href=/noprocrast/>noprocrast</a></li><li data-nav-id=/how-to-fix-sudo-node-command-not-found-error/ title="How to fix sudo node command not found error" class=dd-item><a href=/how-to-fix-sudo-node-command-not-found-error/>sudo and node</a></li><li data-nav-id=/yet-another-lousy-monad-tutorial/ title="Yet another lousy monad tutorial" class=dd-item><a href=/yet-another-lousy-monad-tutorial/>Yet another lousy monad tutorial</a></li><li data-nav-id=/ruby-enumerable/ title="A Deeper Look at Ruby's Enumerable" class=dd-item><a href=/ruby-enumerable/>A Deeper Look at Ruby's Enumerable</a></li><li data-nav-id=/rest-api-in-clojure/ title="A REST API in Clojure" class=dd-item><a href=/rest-api-in-clojure/>A REST API in Clojure</a></li><li data-nav-id=/abstract-classes-and-interfaces-in-python/ title="Abstract classes and interfaces in Python" class=dd-item><a href=/abstract-classes-and-interfaces-in-python/>Abstract classes and interfaces in Python</a></li><li data-nav-id=/deep-learning-cardiovascular-imaging/ title="How Deep Learning Helped Reducing Variability in Cardiovascular Imaging" class=dd-item><a href=/deep-learning-cardiovascular-imaging/>Deep Learning helped reducing variability in Cardiovascular Imaging</a></li><li data-nav-id=/google-engineers-boycott-security-tool-military/ title="Google Engineers Boycott Against Security Tool for Military" class=dd-item><a href=/google-engineers-boycott-security-tool-military/>Google engineers boycott</a></li><li data-nav-id=/nodejs-google-app-engine/ title="How to deploy Node.js app on Google App Engine" class=dd-item><a href=/nodejs-google-app-engine/>Node.js on Google App Engine</a></li><li data-nav-id=/angular6-features/ title="What's new in Angular 6 (Features List)" class=dd-item><a href=/angular6-features/>Angular 6 features</a></li><li data-nav-id=/github-alternatives/ title="GitHub Alternatives (Free, Paid, Self-Hosted)" class=dd-item><a href=/github-alternatives/>Github alternatives</a></li><li data-nav-id=/what-is-the-use-of-yield-in-python/ title="What is the use of yield in Python?" class=dd-item><a href=/what-is-the-use-of-yield-in-python/>What is the use of yield in Python?</a></li><li data-nav-id=/append-vs-extend-python/ title="Difference between append and extend in Python" class=dd-item><a href=/append-vs-extend-python/>Difference between append and extend in Python</a></li><li data-nav-id=/print-same-line-python/ title="How to print on same line with print in Python" class=dd-item><a href=/print-same-line-python/>How to print on same line with print in Python</a></li><li data-nav-id=/read-write-config-files-in-python/ title="Writing and Reading config files in Python" class=dd-item><a href=/read-write-config-files-in-python/>Writing and Reading config files in Python</a></li><li data-nav-id=/run-module-as-script-python/ title="How to run a Python module as script?" class=dd-item><a href=/run-module-as-script-python/>How to run a Python module as script?</a></li><li data-nav-id=/if-name-main-in-python/ title='What is if __name__ == "__main__" in Python?' class=dd-item><a href=/if-name-main-in-python/>What is if __name__ == "__main__" in Python?</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://tutswiki.com/tags/><i class="fas fa-tags"></i>Tags</a></li><li><a class=padding href=https://github.com/TutsWiki/source/><i class="fab fa-fw fa-github"></i>GitHub</a></li><li><a class=padding href=https://github.com/TutsWiki/source/graphs/contributors/><i class="fa fa-fw fa-bullhorn"></i>Credits</a></li><li><a class=padding href=https://www.facebook.com/TutsWiki/><i class="fab fa-fw fa-facebook"></i>Facebook</a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/TutsWiki/source/ data-icon=octicon-star data-show-count=true aria-label="Star TutsWiki/source on GitHub">Star</a>
<a class=github-button href=https://github.com/TutsWiki/source/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork TutsWiki/source on GitHub">Fork</a><p>Built by Community with <a href=https://github.com/TutsWiki/source/graphs/contributors><i class="fa fa-heart"></i></a></center><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/TutsWiki/source/edit/master/content/blog/python/convert-python-script-to-module.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>TutsWiki Beta</a> > <a href=/blog/>Blog</a> > How to convert a Python script to module</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#getting-ready>Getting ready</a></li><li><a href=#how-to-do-it>How to do it&mldr;</a></li><li><a href=#how-it-works>How it works&mldr;</a></li><li><a href=#there-s-more>There&rsquo;s more&mldr;</a><ul><li><a href=#also-see>Also see</a></li></ul></li></ul></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/python>Python</a></div></div><div id=body-inner><h1>How to convert a Python script to module</h1><p><meta property="og:image" content="https://tutswiki.com/img/tutswiki-logo.png"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to convert a Python script to module"><meta name=”twitter:description” content="How can we import the functions (or classes) from a file without having the script start doing something?"></p><p>It&rsquo;s common to create small scripts which we want to combine into a larger script. We don&rsquo;t want to copy and paste the code. We want to leave the working code in one file and use it in multiple places. Often we want to combine elements from multiple files to create more sophisticated scripts.</p><p>The problem we have is that when we import a script it actually starts running. This is generally not what we expect when we import a script so that we can reuse it.
How can we import the functions (or classes) from a file without having the script start doing something?</p><h2 id=getting-ready>Getting ready</h2><p>Let&rsquo;s say that we have a handy implementation of the haversine distance function called <code>haversine()</code>, and it&rsquo;s in a file named <code>script.py</code>.</p><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-9878675755379402 data-ad-slot=5842766387></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><p>Initially, the file might look like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> csv 
<span style=color:#f92672>import</span> pathlib 
<span style=color:#f92672>from</span> math <span style=color:#f92672>import</span> radians, sin, cos, sqrt, asin 
<span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> partial 

MI<span style=color:#f92672>=</span> <span style=color:#ae81ff>3959</span> 
NM<span style=color:#f92672>=</span> <span style=color:#ae81ff>3440</span> 
KM<span style=color:#f92672>=</span> <span style=color:#ae81ff>6373</span> 

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>haversine</span>( lat_1: float, lon_1: float, 
    lat_2: float, lon_2: float, <span style=color:#f92672>*</span>, R: float ) <span style=color:#f92672>-&gt;</span> float: 
    <span style=color:#f92672>...</span> <span style=color:#f92672>and</span> more <span style=color:#f92672>...</span> 

nm_haversine <span style=color:#f92672>=</span> partial(haversine, R<span style=color:#f92672>=</span>NM) 

source_path <span style=color:#f92672>=</span> pathlib<span style=color:#f92672>.</span>Path(<span style=color:#e6db74>&#34;waypoints.csv&#34;</span>) 
<span style=color:#66d9ef>with</span> source_path<span style=color:#f92672>.</span>open() <span style=color:#66d9ef>as</span> source_file: 
    reader<span style=color:#f92672>=</span> csv<span style=color:#f92672>.</span>DictReader(source_file) 
    start <span style=color:#f92672>=</span> next(reader) 
    <span style=color:#66d9ef>for</span> point <span style=color:#f92672>in</span> reader: 
        d <span style=color:#f92672>=</span> nm_haversine( 
            float(start[<span style=color:#e6db74>&#39;lat&#39;</span>]), float(start[<span style=color:#e6db74>&#39;lon&#39;</span>]), 
            float(point[<span style=color:#e6db74>&#39;lat&#39;</span>]), float(point[<span style=color:#e6db74>&#39;lon&#39;</span>]) 
        ) 
        <span style=color:#66d9ef>print</span>(start, point, d) 
        start<span style=color:#f92672>=</span> point </code></pre></div><p>We&rsquo;ve omitted the body of the <code>haversine()</code> function, showing only &mldr; and more&mldr;, since the full source is available on <a href=https://gist.github.com/chankeypathak/f51642a66792e8a0fca52446d3697349>github</a>. We&rsquo;ve focused on the context in which the function is in a Python script that also opens a file, <code>wapypoints.csv</code>, and does some processing on that file.</p><p>How can we import this module without it printing a display of distances between waypoints in our <code>waypoints.csv</code> file?</p><h2 id=how-to-do-it>How to do it&mldr;</h2><p>Python scripts can be simple to write. Indeed, it&rsquo;s often too simple to create a working script. Here&rsquo;s how we transform a simple script into a reusable library:</p><p>1) Identify the statements that do the work of the script: we&rsquo;ll distinguish between definition and action. Statements such as <code>import</code>, <code>def</code>, and <code>class</code> are clearly definitional—they support the work but they don&rsquo;t do the work. Almost all other statements take action. In our example, we have four assignment statements that are more definition than action. The distinction is entirely one of intent. All statements, by definition, take an action. These actions, though, are more like the action of the def statement than they are like the action of the <code>with</code> statement later in the script. Here are the generally definitional statements:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>MI<span style=color:#f92672>=</span> <span style=color:#ae81ff>3959</span> 
NM<span style=color:#f92672>=</span> <span style=color:#ae81ff>3440</span>
KM<span style=color:#f92672>=</span> <span style=color:#ae81ff>6373</span> 
    
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>haversine</span>( lat_1: float, lon_1: float, 
    lat_2: float, lon_2: float, <span style=color:#f92672>*</span>, R: float ) <span style=color:#f92672>-&gt;</span> float: 
    <span style=color:#f92672>...</span> <span style=color:#f92672>and</span> more <span style=color:#f92672>...</span> 
    
nm_haversine <span style=color:#f92672>=</span> partial(haversine, R<span style=color:#f92672>=</span>NM) </code></pre></div><p>The rest of the statements clearly take an action toward producing the printed results.</p><p>2) Wrap the actions into a function:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>analyze</span>(): 
    source_path <span style=color:#f92672>=</span> pathlib<span style=color:#f92672>.</span>Path(<span style=color:#e6db74>&#34;waypoints.csv&#34;</span>) 
    <span style=color:#66d9ef>with</span> source_path<span style=color:#f92672>.</span>open() <span style=color:#66d9ef>as</span> source_file: 
    	reader<span style=color:#f92672>=</span> csv<span style=color:#f92672>.</span>DictReader(source_file) 
    	start <span style=color:#f92672>=</span> next(reader) 
    	<span style=color:#66d9ef>for</span> point <span style=color:#f92672>in</span> reader: 
    		d <span style=color:#f92672>=</span> nm_haversine( 
    			float(start[<span style=color:#e6db74>&#39;lat&#39;</span>]), float(start[<span style=color:#e6db74>&#39;lon&#39;</span>]), 
    			float(point[<span style=color:#e6db74>&#39;lat&#39;</span>]), float(point[<span style=color:#e6db74>&#39;lon&#39;</span>]) 
    			) 
    		<span style=color:#66d9ef>print</span>(start, point, d) 
    		start<span style=color:#f92672>=</span> point </code></pre></div><p>3) Where possible, extract literals and make them into parameters. This is often a simple movement of the literal to a parameter with a default value. From this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>analyze</span>(): 
    source_path <span style=color:#f92672>=</span> pathlib<span style=color:#f92672>.</span>Path(<span style=color:#e6db74>&#34;waypoints.csv&#34;</span>) </code></pre></div><p>To this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>analyze</span>(source_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;waypoints.csv&#34;</span>): 
    source_path <span style=color:#f92672>=</span> pathlib<span style=color:#f92672>.</span>Path(source_name) </code></pre></div><p>4) Include the following as the only high-level action statements in the script file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>: 
    analyze() </code></pre></div><p>We&rsquo;ve packaged the action of the script as a function. The top-level action script is now wrapped in an if statement so that it isn&rsquo;t executed during import.</p><h2 id=how-it-works>How it works&mldr;</h2><p>The most important rule for Python is that an <code>import</code> of a module is essentially the same as running the module as a script. The statements in the file are executed in order from top to bottom.</p><p>When we import a file, we&rsquo;re generally interested in executing the <code>def</code> and <code>class</code> statements. We might be interested in some assignment statements.</p><p>When Python runs a script, it sets a number of built-in special variables. One of these is <code>__name__</code>. This variable has two different values, depending on the context in which the file is being executed:</p><ul><li><p>The top-level script, executed from the command line: In this case, the value of the built-in special name of <code>__name__</code> is set to <code>__main__</code>.</p></li><li><p>A file being executed because of an import statement: In this case, the value of <code>__name__</code> is the name of the module being created.</p></li></ul><p>The standard name of <code>__main__</code> may seem a little odd at first. Why not use the filename in all cases? This special name is assigned because a Python script can be read from one of many sources. It can be a file. Python can also be read from the <code>stdin</code> pipeline, or it can be provided on the Python command line using the <code>-c</code> option.</p><p>When a file is being imported, however, the value of <code>__name__</code> is set to the name of the module. It will not be <code>__main__</code>. In our example, the value <code>__name__</code> during import processing will be <code>script</code>.</p><h2 id=there-s-more>There&rsquo;s more&mldr;</h2><p>We can now build useful work around a reusable library. We might make several files that look like this:</p><p>File <code>trip_1.py</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> script <span style=color:#f92672>import</span> analyze 
analyze(<span style=color:#e6db74>&#39;trip_1.csv&#39;</span>) </code></pre></div><p>Or perhaps something even more complex:</p><p>File <code>all_trips.py</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> script <span style=color:#f92672>import</span> analyze 
<span style=color:#66d9ef>for</span> trip <span style=color:#f92672>in</span> <span style=color:#e6db74>&#39;trip_1.csv&#39;</span>, <span style=color:#e6db74>&#39;trip_2.csv&#39;</span>: 
    analyze(trip) </code></pre></div><p>The goal is to decompose a practical solution into two collections of features:</p><ul><li>The definition of classes and functions</li><li>A very small action-oriented script that uses the definitions to do useful work</li></ul><p>To get to this goal, we&rsquo;ll often start with a script that conflates both sets of features. This kind of script can be viewed as a <strong>spike solution</strong>. Our spike solution should evolve towards a more refined solution as soon as we&rsquo;re sure that it works.</p><p>A <em>spike</em> or <em>piton</em> is a piece of removable mountain-climbing gear that doesn&rsquo;t get us any higher on the route, but it enables us to climb safely.</p><h3 id=also-see>Also see</h3><ul><li><a href=https://tutswiki.com/run-module-as-script-python>How to run a Python module as script?</a></li><li><a href=https://www.python.org/dev/peps/pep-0338/>PEP 338 &ndash; Executing modules as scripts</a></li><li><a href=/if-name-main-in-python/>What is if <strong>name</strong> == &ldquo;<strong>main</strong>&rdquo; in Python?</a></li><li><a href=https://stackoverflow.com/questions/2996110/what-is-the-difference-between-a-module-and-a-script-in-python>What is the difference between a module and a script in Python?</a></li></ul><footer class=footline></footer><div class="notices note"><p>Help us improve this content by
<a class=github-link title="editing this page on GitHub" href=https://github.com/TutsWiki/source/edit/master/content/blog/python/convert-python-script-to-module.md target=blank><span id=top-github-link-text>editing this page on GitHub </span><i class="fas fa-code-branch"></i></a></p></div></div></div><div id=navigation><a class="nav nav-prev" href=/approximating-randomness/ title="Approximating Randomness"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/grunt-tutorial-example/ title="Grunt Tutorial with Live Example" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1601262140></script><script src=/js/perfect-scrollbar.min.js?1601262140></script><script src=/js/perfect-scrollbar.jquery.min.js?1601262140></script><script src=/js/jquery.sticky.js?1601262140></script><script src=/js/featherlight.min.js?1601262140></script><script src=/js/highlight.pack.js?1601262140></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1601262140></script><script src=/js/learn.js?1601262140></script><script src=/js/hugo-learn.js?1601262140></script><link href=/mermaid/mermaid.css?1601262140 rel=stylesheet><script src=/mermaid/mermaid.js?1601262140></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>